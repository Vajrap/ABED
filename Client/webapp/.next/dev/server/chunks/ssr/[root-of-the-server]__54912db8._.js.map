{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/vajrap/workspace/MyProject/Client/webapp/src/services/RestHandler.ts"],"sourcesContent":["class RestHandler {\n    private API_BASE_URL = \"http://localhost:7890\";\n    private DEFAULT_TIMEOUT = 10000;\n\n    async makeRequest<REQ, RES>(\n        endpoint: string,\n        reqBody?: REQ | null,\n        requireAuth: boolean = false,\n        method: string = \"POST\",\n    ): Promise<RES> {\n        const timeout = this.DEFAULT_TIMEOUT;\n        \n        const url = `${this.API_BASE_URL}${endpoint}`;\n        console.log(`[RestHandler] Making ${method} request to: ${url}`, { reqBody, requireAuth });\n        const controller = new AbortController();\n        const timeoutId = setTimeout(() => controller.abort(), timeout);\n        \n        // Prepare headers\n        const headers: Record<string, string> = {\n            \"Content-Type\": \"application/json\",\n        };\n\n        // Add auth token if required\n        if (requireAuth) {\n            const token = localStorage.getItem(\"sessionToken\");\n            if (token) {\n                headers[\"Authorization\"] = `Bearer ${token}`;\n            }\n        }\n\n        try {\n            const response = await fetch(url, {\n                method: method,\n                headers,\n                signal: controller.signal,\n                body: method !== \"GET\" && reqBody ? JSON.stringify(reqBody) : undefined,\n            });\n            \n            clearTimeout(timeoutId);\n            console.log(`[RestHandler] Response status: ${response.status} for ${url}`);\n            \n            if (!response.ok) {\n                const errorText = await response.text();\n                let errorData;\n                try {\n                    errorData = JSON.parse(errorText);\n                } catch {\n                    errorData = { message: errorText };\n                }\n                console.error(`[RestHandler] Error response for ${url}:`, errorData);\n                throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\n            }\n            \n            const jsonResponse = await response.json();\n            console.log(`[RestHandler] Success response from ${url}:`, jsonResponse);\n            return jsonResponse;\n        } catch (error) {\n            clearTimeout(timeoutId);\n            if (error instanceof Error && error.name === 'AbortError') {\n                console.error(`[RestHandler] Request timeout for ${url}`);\n                throw new Error('Request timeout');\n            }\n            // Improve error message for network errors\n            if (error instanceof TypeError && (error.message.includes('fetch') || error.message.includes('Failed to fetch'))) {\n                console.error(`[RestHandler] Network error connecting to ${url}:`, error);\n                throw new Error(`Cannot connect to server at ${this.API_BASE_URL}. Please ensure the backend is running and accessible. Error: ${error.message}`);\n            }\n            console.error(`[RestHandler] Error for ${url}:`, error);\n            throw error;\n        }\n    }\n\n    // Convenience methods for common HTTP verbs\n    async get<RES>(endpoint: string, requireAuth: boolean = false): Promise<RES> {\n        return this.makeRequest<null, RES>(endpoint, null, requireAuth, \"GET\");\n    }\n\n    async post<REQ, RES>(endpoint: string, reqBody?: REQ | null, requireAuth: boolean = false): Promise<RES> {\n        return this.makeRequest<REQ, RES>(endpoint, reqBody, requireAuth, \"POST\");\n    }\n\n    async put<REQ, RES>(endpoint: string, reqBody?: REQ | null, requireAuth: boolean = false): Promise<RES> {\n        return this.makeRequest<REQ, RES>(endpoint, reqBody, requireAuth, \"PUT\");\n    }\n\n    async delete<RES>(endpoint: string, requireAuth: boolean = false): Promise<RES> {\n        return this.makeRequest<null, RES>(endpoint, null, requireAuth, \"DELETE\");\n    }\n\n    // Health check method\n    async healthCheck(): Promise<boolean> {\n        console.log(\"Health check\");\n        try {\n            const response = await fetch(`${this.API_BASE_URL}/api/network-test`, {\n                method: \"GET\",\n                signal: AbortSignal.timeout(5000),\n            });\n            console.log(\"Health check response:\", response);\n            return response.ok;\n        } catch (error) {\n            console.log(\"Health check error:\", error);\n            return false;\n        }\n    }\n}\n\nexport const restHandler = new RestHandler();"],"names":[],"mappings":";;;;AAAA,MAAM;IACM,eAAe,wBAAwB;IACvC,kBAAkB,MAAM;IAEhC,MAAM,YACF,QAAgB,EAChB,OAAoB,EACpB,cAAuB,KAAK,EAC5B,SAAiB,MAAM,EACX;QACZ,MAAM,UAAU,IAAI,CAAC,eAAe;QAEpC,MAAM,MAAM,GAAG,IAAI,CAAC,YAAY,GAAG,UAAU;QAC7C,QAAQ,GAAG,CAAC,CAAC,qBAAqB,EAAE,OAAO,aAAa,EAAE,KAAK,EAAE;YAAE;YAAS;QAAY;QACxF,MAAM,aAAa,IAAI;QACvB,MAAM,YAAY,WAAW,IAAM,WAAW,KAAK,IAAI;QAEvD,kBAAkB;QAClB,MAAM,UAAkC;YACpC,gBAAgB;QACpB;QAEA,6BAA6B;QAC7B,IAAI,aAAa;YACb,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,OAAO;gBACP,OAAO,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;YAChD;QACJ;QAEA,IAAI;YACA,MAAM,WAAW,MAAM,MAAM,KAAK;gBAC9B,QAAQ;gBACR;gBACA,QAAQ,WAAW,MAAM;gBACzB,MAAM,WAAW,SAAS,UAAU,KAAK,SAAS,CAAC,WAAW;YAClE;YAEA,aAAa;YACb,QAAQ,GAAG,CAAC,CAAC,+BAA+B,EAAE,SAAS,MAAM,CAAC,KAAK,EAAE,KAAK;YAE1E,IAAI,CAAC,SAAS,EAAE,EAAE;gBACd,MAAM,YAAY,MAAM,SAAS,IAAI;gBACrC,IAAI;gBACJ,IAAI;oBACA,YAAY,KAAK,KAAK,CAAC;gBAC3B,EAAE,OAAM;oBACJ,YAAY;wBAAE,SAAS;oBAAU;gBACrC;gBACA,QAAQ,KAAK,CAAC,CAAC,iCAAiC,EAAE,IAAI,CAAC,CAAC,EAAE;gBAC1D,MAAM,IAAI,MAAM,UAAU,OAAO,IAAI,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE;YACjF;YAEA,MAAM,eAAe,MAAM,SAAS,IAAI;YACxC,QAAQ,GAAG,CAAC,CAAC,oCAAoC,EAAE,IAAI,CAAC,CAAC,EAAE;YAC3D,OAAO;QACX,EAAE,OAAO,OAAO;YACZ,aAAa;YACb,IAAI,iBAAiB,SAAS,MAAM,IAAI,KAAK,cAAc;gBACvD,QAAQ,KAAK,CAAC,CAAC,kCAAkC,EAAE,KAAK;gBACxD,MAAM,IAAI,MAAM;YACpB;YACA,2CAA2C;YAC3C,IAAI,iBAAiB,aAAa,CAAC,MAAM,OAAO,CAAC,QAAQ,CAAC,YAAY,MAAM,OAAO,CAAC,QAAQ,CAAC,kBAAkB,GAAG;gBAC9G,QAAQ,KAAK,CAAC,CAAC,0CAA0C,EAAE,IAAI,CAAC,CAAC,EAAE;gBACnE,MAAM,IAAI,MAAM,CAAC,4BAA4B,EAAE,IAAI,CAAC,YAAY,CAAC,8DAA8D,EAAE,MAAM,OAAO,EAAE;YACpJ;YACA,QAAQ,KAAK,CAAC,CAAC,wBAAwB,EAAE,IAAI,CAAC,CAAC,EAAE;YACjD,MAAM;QACV;IACJ;IAEA,4CAA4C;IAC5C,MAAM,IAAS,QAAgB,EAAE,cAAuB,KAAK,EAAgB;QACzE,OAAO,IAAI,CAAC,WAAW,CAAY,UAAU,MAAM,aAAa;IACpE;IAEA,MAAM,KAAe,QAAgB,EAAE,OAAoB,EAAE,cAAuB,KAAK,EAAgB;QACrG,OAAO,IAAI,CAAC,WAAW,CAAW,UAAU,SAAS,aAAa;IACtE;IAEA,MAAM,IAAc,QAAgB,EAAE,OAAoB,EAAE,cAAuB,KAAK,EAAgB;QACpG,OAAO,IAAI,CAAC,WAAW,CAAW,UAAU,SAAS,aAAa;IACtE;IAEA,MAAM,OAAY,QAAgB,EAAE,cAAuB,KAAK,EAAgB;QAC5E,OAAO,IAAI,CAAC,WAAW,CAAY,UAAU,MAAM,aAAa;IACpE;IAEA,sBAAsB;IACtB,MAAM,cAAgC;QAClC,QAAQ,GAAG,CAAC;QACZ,IAAI;YACA,MAAM,WAAW,MAAM,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,EAAE;gBAClE,QAAQ;gBACR,QAAQ,YAAY,OAAO,CAAC;YAChC;YACA,QAAQ,GAAG,CAAC,0BAA0B;YACtC,OAAO,SAAS,EAAE;QACtB,EAAE,OAAO,OAAO;YACZ,QAAQ,GAAG,CAAC,uBAAuB;YACnC,OAAO;QACX;IACJ;AACJ;AAEO,MAAM,cAAc,IAAI"}},
    {"offset": {"line": 123, "column": 0}, "map": {"version":3,"sources":["file:///Users/vajrap/workspace/MyProject/Client/webapp/src/services/characterService.ts"],"sourcesContent":["// CharacterService.ts - Service for character-related API calls\n\nimport { restHandler } from './RestHandler';\nimport type {\n  CharacterCreationRequest,\n  CharacterResponse,\n  CharacterCreationResponse,\n  CharacterNameCheckResponse,\n} from '@/types/character';\n\n// Re-export types for backward compatibility\nexport type { Character } from '@/types/character';\n\nclass CharacterService {\n\n  async createCharacter(characterData: CharacterCreationRequest): Promise<CharacterCreationResponse> {\n    try {\n      const response = await restHandler.post<CharacterCreationRequest, CharacterResponse>(\"/api/character/create\", characterData, true);\n\n      return response;\n    } catch (error) {\n      console.error(\"Character creation error:\", error);\n      return {\n        success: false,\n        messageKey: \"character.creationFailed\",\n      };\n    }\n  }\n\n  async getUserCharacter(): Promise<CharacterResponse> {\n    const response = await restHandler.post<null, CharacterResponse>(\"/api/character/getUserCharacter\", null, true);\n    return response;\n  }\n\n  async checkCharacterName(name: string): Promise<CharacterNameCheckResponse> {\n    try {\n      const response = await restHandler.post<{name: string}, CharacterNameCheckResponse>(\"/api/character/checkName\", { name });\n      return response;\n    } catch (error) {\n      console.error(\"Character name check error:\", error);\n      return {\n        success: false,\n        messageKey: \"character.nameCheckFailed\",\n        message: error instanceof Error ? error.message : \"Failed to check character name\",\n      };\n    }\n  }\n\n  async setActiveCharacter(characterId: string): Promise<CharacterResponse> {\n    try {\n      const response = await restHandler.post<{characterId: string}, CharacterResponse>(\"/api/character/setActive\", { characterId }, true);\n\n      return response;\n    } catch (error) {\n      console.error(\"Set active character error:\", error);\n      return {\n        success: false,\n        messageKey: \"character.setActiveFailed\",\n        message: error instanceof Error ? error.message : \"Failed to set active character\",\n      };\n    }\n  }\n\n  async getMetadata(): Promise<{\n    success: boolean;\n    races?: Array<{ id: string; name: string }>;\n    classes?: Array<{ id: string; name: string }>;\n    backgrounds?: Array<{ id: string; name: string }>;\n    messageKey?: string;\n  }> {\n    try {\n      const response = await restHandler.get<{\n        success: boolean;\n        races: Array<{ id: string; name: string }>;\n        classes: Array<{ id: string; name: string }>;\n        backgrounds: Array<{ id: string; name: string }>;\n      }>(\"/api/character/metadata\", false);\n      return response;\n    } catch (error) {\n      console.error(\"Character metadata error:\", error);\n      return {\n        success: false,\n        messageKey: \"character.metadataFailed\",\n      };\n    }\n  }\n\n  async previewStats(race: string, classValue: string, background: string): Promise<{\n    success: boolean;\n    stats?: {\n      attributes: Record<string, { base: number; bonus: number }>;\n      proficiencies: Record<string, { base: number; bonus: number }>;\n      artisans: Record<string, { base: number; bonus: number }>;\n      vitals: { maxHP: number; maxSP: number; maxMP: number; planarAptitude: number };\n    };\n    messageKey?: string;\n  }> {\n    try {\n      const response = await restHandler.get<{\n        success: boolean;\n        stats?: {\n          attributes: Record<string, { base: number; bonus: number }>;\n          proficiencies: Record<string, { base: number; bonus: number }>;\n          artisans: Record<string, { base: number; bonus: number }>;\n          vitals: { maxHP: number; maxSP: number; maxMP: number; planarAptitude: number };\n        };\n        messageKey?: string;\n      }>(`/api/character/preview?race=${encodeURIComponent(race)}&class=${encodeURIComponent(classValue)}&background=${encodeURIComponent(background)}`, false);\n      return response;\n    } catch (error) {\n      console.error(\"Failed to fetch character stats preview:\", error);\n      return {\n        success: false,\n        messageKey: \"character.previewFailed\",\n      };\n    }\n  }\n}\n\n// Export singleton instance\nexport const characterService = new CharacterService();\n"],"names":[],"mappings":"AAAA,gEAAgE;;;;;AAEhE;;AAWA,MAAM;IAEJ,MAAM,gBAAgB,aAAuC,EAAsC;QACjG,IAAI;YACF,MAAM,WAAW,MAAM,2LAAW,CAAC,IAAI,CAA8C,yBAAyB,eAAe;YAE7H,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,OAAO;gBACL,SAAS;gBACT,YAAY;YACd;QACF;IACF;IAEA,MAAM,mBAA+C;QACnD,MAAM,WAAW,MAAM,2LAAW,CAAC,IAAI,CAA0B,mCAAmC,MAAM;QAC1G,OAAO;IACT;IAEA,MAAM,mBAAmB,IAAY,EAAuC;QAC1E,IAAI;YACF,MAAM,WAAW,MAAM,2LAAW,CAAC,IAAI,CAA6C,4BAA4B;gBAAE;YAAK;YACvH,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,OAAO;gBACL,SAAS;gBACT,YAAY;gBACZ,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YACpD;QACF;IACF;IAEA,MAAM,mBAAmB,WAAmB,EAA8B;QACxE,IAAI;YACF,MAAM,WAAW,MAAM,2LAAW,CAAC,IAAI,CAA2C,4BAA4B;gBAAE;YAAY,GAAG;YAE/H,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,OAAO;gBACL,SAAS;gBACT,YAAY;gBACZ,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YACpD;QACF;IACF;IAEA,MAAM,cAMH;QACD,IAAI;YACF,MAAM,WAAW,MAAM,2LAAW,CAAC,GAAG,CAKnC,2BAA2B;YAC9B,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,OAAO;gBACL,SAAS;gBACT,YAAY;YACd;QACF;IACF;IAEA,MAAM,aAAa,IAAY,EAAE,UAAkB,EAAE,UAAkB,EASpE;QACD,IAAI;YACF,MAAM,WAAW,MAAM,2LAAW,CAAC,GAAG,CASnC,CAAC,4BAA4B,EAAE,mBAAmB,MAAM,OAAO,EAAE,mBAAmB,YAAY,YAAY,EAAE,mBAAmB,aAAa,EAAE;YACnJ,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,4CAA4C;YAC1D,OAAO;gBACL,SAAS;gBACT,YAAY;YACd;QACF;IACF;AACF;AAGO,MAAM,mBAAmB,IAAI"}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":["file:///Users/vajrap/workspace/MyProject/Client/webapp/app/character-creation/characterStatsData.ts"],"sourcesContent":["// Character stats data - duplicated from backend for client-side calculation\n// This matches the new backend structure from Server/src/API/characterCreation/\n// Tier system: three=11, two=10, one=9, others=8\n\n// Stat modifier function (matching backend logic)\nfunction statMod(value: number): number {\n  const boundaries = [\n    { upperBound: 1, modifier: -5 },\n    { upperBound: 3, modifier: -4 },\n    { upperBound: 5, modifier: -3 },\n    { upperBound: 7, modifier: -2 },\n    { upperBound: 9, modifier: -1 },\n    { upperBound: 11, modifier: 0 },\n    { upperBound: 13, modifier: 1 },\n    { upperBound: 15, modifier: 2 },\n    { upperBound: 17, modifier: 3 },\n    { upperBound: 19, modifier: 4 },\n    { upperBound: 21, modifier: 5 },\n    { upperBound: 23, modifier: 6 },\n    { upperBound: 25, modifier: 7 },\n    { upperBound: 27, modifier: 8 },\n    { upperBound: 29, modifier: 9 },\n    { upperBound: 30, modifier: 10 },\n  ];\n\n  for (const bound of boundaries) {\n    if (value <= bound.upperBound) {\n      return bound.modifier;\n    }\n  }\n  return 0;\n}\n\n// Convert tier-based proficiencies to numeric values\nfunction proficienciesFromTiers(tiers: { three?: string; two?: string; one?: string }): Record<string, number> {\n  const proficiencies: Record<string, number> = {\n    sword: 8,\n    axe: 8,\n    hammer: 8,\n    spear: 8,\n    shield: 8,\n    bareHand: 8,\n    bow: 8,\n    dagger: 8,\n    blade: 8,\n    wand: 8,\n    staff: 8,\n    book: 8,\n    orb: 8,\n  };\n\n  if (tiers.three) proficiencies[tiers.three] = 11;\n  if (tiers.two) proficiencies[tiers.two] = 10;\n  if (tiers.one) proficiencies[tiers.one] = 9;\n\n  return proficiencies;\n}\n\n// Convert tier-based attributes to numeric values\nfunction attributesFromTiers(baseAttributes: Record<string, number>, tiers: { three?: string; two?: string; one?: string }): Record<string, number> {\n  const attributes = { ...baseAttributes };\n\n  if (tiers.three) attributes[tiers.three] = (attributes[tiers.three] || 8) + 3;\n  if (tiers.two) attributes[tiers.two] = (attributes[tiers.two] || 8) + 2;\n  if (tiers.one) attributes[tiers.one] = (attributes[tiers.one] || 8) + 1;\n\n  return attributes;\n}\n\n// Convert tier-based artisans to numeric values\nfunction artisansFromTiers(tiers: { three?: string; two?: string; one?: string }): Record<string, number> {\n  const artisans: Record<string, number> = {\n    agriculture: 8,\n    mining: 8,\n    smithing: 8,\n    woodCutting: 8,\n    carpentry: 8,\n    foraging: 8,\n    weaving: 8,\n    skinning: 8,\n    tanning: 8,\n    jewelry: 8,\n    cooking: 8,\n    alchemy: 8,\n    enchanting: 8,\n    fishing: 8,\n    masonry: 8,\n    brewing: 8,\n    tinkering: 8,\n    electrics: 8,\n    performance: 8,\n    tailoring: 8,\n  };\n\n  if (tiers.three) artisans[tiers.three] = 11;\n  if (tiers.two) artisans[tiers.two] = 10;\n  if (tiers.one) artisans[tiers.one] = 9;\n\n  return artisans;\n}\n\n// Simple types - just the stat values we need\nexport interface RaceStatData {\n  planarAptitude: number;\n  baseHP: number;\n  baseSP: number;\n  baseMP: number;\n  attributes: Record<string, number>;\n}\n\nexport interface ClassStatData {\n  proficiencies: Record<string, number>;\n  startingSkills: string[];\n  startingEquipments: Record<string, string | null>;\n}\n\nexport interface BackgroundStatData {\n  artisanBonuses: Record<string, number>;\n  startingItems: Array<{ id: string; quantity: number }>;\n}\n\n// Base attributes (all races start with base 8)\nconst BASE_ATTRIBUTES: Record<string, number> = {\n  charisma: 8,\n  luck: 8,\n  intelligence: 8,\n  leadership: 8,\n  vitality: 8,\n  willpower: 8,\n  planar: 8,\n  control: 8,\n  dexterity: 8,\n  agility: 8,\n  strength: 8,\n  endurance: 8,\n};\n\n// Race definitions with stat data (from Server/src/API/characterCreation/races.ts)\nexport const RACE_STATS: Record<string, RaceStatData> = {\n  Human: {\n    planarAptitude: 50,\n    baseHP: 15,\n    baseSP: 15,\n    baseMP: 15,\n    attributes: attributesFromTiers(BASE_ATTRIBUTES, { three: \"leadership\", two: \"willpower\", one: \"control\" }),\n  },\n  human: {\n    planarAptitude: 50,\n    baseHP: 15,\n    baseSP: 15,\n    baseMP: 15,\n    attributes: attributesFromTiers(BASE_ATTRIBUTES, { three: \"leadership\", two: \"willpower\", one: \"control\" }),\n  },\n  Elven: {\n    planarAptitude: 70,\n    baseHP: 15,\n    baseSP: 10,\n    baseMP: 20,\n    attributes: attributesFromTiers(BASE_ATTRIBUTES, { three: \"planar\", two: \"intelligence\", one: \"charisma\" }),\n  },\n  elven: {\n    planarAptitude: 70,\n    baseHP: 15,\n    baseSP: 10,\n    baseMP: 20,\n    attributes: attributesFromTiers(BASE_ATTRIBUTES, { three: \"planar\", two: \"intelligence\", one: \"charisma\" }),\n  },\n  Orc: {\n    planarAptitude: 35,\n    baseHP: 20,\n    baseSP: 20,\n    baseMP: 5,\n    attributes: attributesFromTiers(BASE_ATTRIBUTES, { three: \"strength\", two: \"vitality\", one: \"endurance\" }),\n  },\n  orc: {\n    planarAptitude: 35,\n    baseHP: 20,\n    baseSP: 20,\n    baseMP: 5,\n    attributes: attributesFromTiers(BASE_ATTRIBUTES, { three: \"strength\", two: \"vitality\", one: \"endurance\" }),\n  },\n  Dwarf: {\n    planarAptitude: 35,\n    baseHP: 15,\n    baseSP: 20,\n    baseMP: 10,\n    attributes: attributesFromTiers(BASE_ATTRIBUTES, { three: \"endurance\", two: \"intelligence\", one: \"willpower\" }),\n  },\n  dwarf: {\n    planarAptitude: 35,\n    baseHP: 15,\n    baseSP: 20,\n    baseMP: 10,\n    attributes: attributesFromTiers(BASE_ATTRIBUTES, { three: \"endurance\", two: \"intelligence\", one: \"willpower\" }),\n  },\n  Halfling: {\n    planarAptitude: 50,\n    baseHP: 15,\n    baseSP: 15,\n    baseMP: 15,\n    attributes: attributesFromTiers(BASE_ATTRIBUTES, { three: \"dexterity\", two: \"agility\", one: \"luck\" }),\n  },\n  halfling: {\n    planarAptitude: 50,\n    baseHP: 15,\n    baseSP: 15,\n    baseMP: 15,\n    attributes: attributesFromTiers(BASE_ATTRIBUTES, { three: \"dexterity\", two: \"agility\", one: \"luck\" }),\n  },\n  Vulpine: {\n    planarAptitude: 70,\n    baseHP: 13,\n    baseSP: 13,\n    baseMP: 18,\n    attributes: attributesFromTiers(BASE_ATTRIBUTES, { three: \"intelligence\", two: \"agility\", one: \"planar\" }),\n  },\n  vulpine: {\n    planarAptitude: 70,\n    baseHP: 13,\n    baseSP: 13,\n    baseMP: 18,\n    attributes: attributesFromTiers(BASE_ATTRIBUTES, { three: \"intelligence\", two: \"agility\", one: \"planar\" }),\n  },\n};\n\n// Class definitions with proficiency data (from Server/src/API/characterCreation/classes.ts)\nexport const CLASS_STATS: Record<string, ClassStatData> = {\n  Cleric: {\n    proficiencies: proficienciesFromTiers({ three: \"book\", two: \"hammer\", one: \"shield\" }),\n    startingSkills: [\"Radiance\", \"Heal\"],\n    startingEquipments: {\n      body: \"Robe\",\n      rightHand: \"QuarterStaff\",\n      leftHand: null,\n    },\n  },\n  cleric: {\n    proficiencies: proficienciesFromTiers({ three: \"book\", two: \"hammer\", one: \"shield\" }),\n    startingSkills: [\"Radiance\", \"Heal\"],\n    startingEquipments: {\n      body: \"Robe\",\n      rightHand: \"QuarterStaff\",\n      leftHand: null,\n    },\n  },\n  Seer: {\n    proficiencies: proficienciesFromTiers({ three: \"orb\", two: \"dagger\", one: \"book\" }),\n    startingSkills: [\"ThreadSnip\", \"PlanarEcho\"],\n    startingEquipments: {\n      body: \"MageRobe\",\n      rightHand: \"Orb\",\n      leftHand: null,\n    },\n  },\n  seer: {\n    proficiencies: proficienciesFromTiers({ three: \"orb\", two: \"dagger\", one: \"book\" }),\n    startingSkills: [\"ThreadSnip\", \"PlanarEcho\"],\n    startingEquipments: {\n      body: \"MageRobe\",\n      rightHand: \"Orb\",\n      leftHand: null,\n    },\n  },\n  Mage: {\n    proficiencies: proficienciesFromTiers({ three: \"wand\", two: \"staff\", one: \"book\" }),\n    startingSkills: [\"ArcaneShield\", \"ArcaneBolt\"],\n    startingEquipments: {\n      body: \"MageRobe\",\n      rightHand: \"Wand\",\n      leftHand: null,\n    },\n  },\n  mage: {\n    proficiencies: proficienciesFromTiers({ three: \"wand\", two: \"staff\", one: \"book\" }),\n    startingSkills: [\"ArcaneShield\", \"ArcaneBolt\"],\n    startingEquipments: {\n      body: \"MageRobe\",\n      rightHand: \"Wand\",\n      leftHand: null,\n    },\n  },\n  Mystic: {\n    proficiencies: proficienciesFromTiers({ three: \"orb\", two: \"bareHand\", one: \"wand\" }),\n    startingSkills: [\"InnerVeil\", \"MistStep\"],\n    startingEquipments: {\n      body: \"MageRobe\",\n      rightHand: \"Orb\",\n      leftHand: null,\n    },\n  },\n  mystic: {\n    proficiencies: proficienciesFromTiers({ three: \"orb\", two: \"bareHand\", one: \"wand\" }),\n    startingSkills: [\"InnerVeil\", \"MistStep\"],\n    startingEquipments: {\n      body: \"MageRobe\",\n      rightHand: \"Orb\",\n      leftHand: null,\n    },\n  },\n  Rogue: {\n    proficiencies: proficienciesFromTiers({ three: \"dagger\", two: \"bow\", one: \"blade\" }),\n    startingSkills: [\"BleedingCut\", \"ThrowingKnives\"],\n    startingEquipments: {\n      body: \"LeatherArmor\",\n      rightHand: \"Knife\",\n      leftHand: null,\n    },\n  },\n  rogue: {\n    proficiencies: proficienciesFromTiers({ three: \"dagger\", two: \"bow\", one: \"blade\" }),\n    startingSkills: [\"BleedingCut\", \"ThrowingKnives\"],\n    startingEquipments: {\n      body: \"LeatherArmor\",\n      rightHand: \"Knife\",\n      leftHand: null,\n    },\n  },\n  SpellBlade: {\n    proficiencies: proficienciesFromTiers({ three: \"sword\", two: \"blade\", one: \"wand\" }),\n    startingSkills: [\"WindSlash\", \"PlanarEdge\"],\n    startingEquipments: {\n      body: \"LeatherArmor\",\n      rightHand: \"ShortSword\",\n      leftHand: null,\n    },\n  },\n  spellBlade: {\n    proficiencies: proficienciesFromTiers({ three: \"sword\", two: \"blade\", one: \"wand\" }),\n    startingSkills: [\"WindSlash\", \"PlanarEdge\"],\n    startingEquipments: {\n      body: \"LeatherArmor\",\n      rightHand: \"ShortSword\",\n      leftHand: null,\n    },\n  },\n  Shaman: {\n    proficiencies: proficienciesFromTiers({ three: \"staff\", two: \"spear\", one: \"axe\" }),\n    startingSkills: [\"HexOfRot\", \"MendSpirit\"],\n    startingEquipments: {\n      body: \"Robe\",\n      rightHand: \"QuarterStaff\",\n      leftHand: null,\n    },\n  },\n  shaman: {\n    proficiencies: proficienciesFromTiers({ three: \"staff\", two: \"spear\", one: \"axe\" }),\n    startingSkills: [\"HexOfRot\", \"MendSpirit\"],\n    startingEquipments: {\n      body: \"Robe\",\n      rightHand: \"QuarterStaff\",\n      leftHand: null,\n    },\n  },\n  Barbarian: {\n    proficiencies: proficienciesFromTiers({ three: \"axe\", two: \"hammer\", one: \"bareHand\" }),\n    startingSkills: [\"RecklessSwing\", \"Rage\"],\n    startingEquipments: {\n      body: \"LeatherArmor\",\n      rightHand: \"Axe\",\n      leftHand: null,\n    },\n  },\n  barbarian: {\n    proficiencies: proficienciesFromTiers({ three: \"axe\", two: \"hammer\", one: \"bareHand\" }),\n    startingSkills: [\"RecklessSwing\", \"Rage\"],\n    startingEquipments: {\n      body: \"LeatherArmor\",\n      rightHand: \"Axe\",\n      leftHand: null,\n    },\n  },\n  Warrior: {\n    proficiencies: proficienciesFromTiers({ three: \"blade\", two: \"sword\", one: \"spear\" }),\n    startingSkills: [\"WarCry\", \"PowerStrike\"],\n    startingEquipments: {\n      body: \"PaddedArmor\",\n      rightHand: \"Scimitar\",\n      leftHand: null,\n    },\n  },\n  warrior: {\n    proficiencies: proficienciesFromTiers({ three: \"blade\", two: \"sword\", one: \"spear\" }),\n    startingSkills: [\"WarCry\", \"PowerStrike\"],\n    startingEquipments: {\n      body: \"PaddedArmor\",\n      rightHand: \"Scimitar\",\n      leftHand: null,\n    },\n  },\n  Knight: {\n    proficiencies: proficienciesFromTiers({ three: \"spear\", two: \"shield\", one: \"sword\" }),\n    startingSkills: [\"PrecisionThrust\"],\n    startingEquipments: {\n      body: \"ChainShirt\",\n      rightHand: \"Dory\",\n      leftHand: \"Buckler\",\n    },\n  },\n  knight: {\n    proficiencies: proficienciesFromTiers({ three: \"spear\", two: \"shield\", one: \"sword\" }),\n    startingSkills: [\"PrecisionThrust\"],\n    startingEquipments: {\n      body: \"ChainShirt\",\n      rightHand: \"Dory\",\n      leftHand: \"Buckler\",\n    },\n  },\n  Guardian: {\n    proficiencies: proficienciesFromTiers({ three: \"shield\", two: \"hammer\", one: \"axe\" }),\n    startingSkills: [\"ShieldUp\", \"Taunt\"],\n    startingEquipments: {\n      body: \"ChainShirt\",\n      rightHand: \"Hammer\",\n      leftHand: \"Buckler\",\n    },\n  },\n  guardian: {\n    proficiencies: proficienciesFromTiers({ three: \"shield\", two: \"hammer\", one: \"axe\" }),\n    startingSkills: [\"ShieldUp\", \"Taunt\"],\n    startingEquipments: {\n      body: \"ChainShirt\",\n      rightHand: \"Hammer\",\n      leftHand: \"Buckler\",\n    },\n  },\n  Paladin: {\n    proficiencies: proficienciesFromTiers({ three: \"hammer\", two: \"shield\", one: \"sword\" }),\n    startingSkills: [\"DivineStrike\"],\n    startingEquipments: {\n      body: \"StuddedLeatherArmor\",\n      rightHand: \"Hammer\",\n      leftHand: \"Buckler\",\n    },\n  },\n  paladin: {\n    proficiencies: proficienciesFromTiers({ three: \"hammer\", two: \"shield\", one: \"sword\" }),\n    startingSkills: [\"DivineStrike\"],\n    startingEquipments: {\n      body: \"StuddedLeatherArmor\",\n      rightHand: \"Hammer\",\n      leftHand: \"Buckler\",\n    },\n  },\n  Druid: {\n    proficiencies: proficienciesFromTiers({ three: \"staff\", two: \"spear\", one: \"bow\" }),\n    startingSkills: [\"ThrowSpear\", \"VineWhip\"],\n    startingEquipments: {\n      body: \"HideArmor\",\n      rightHand: \"Javelin\",\n      leftHand: null,\n    },\n  },\n  druid: {\n    proficiencies: proficienciesFromTiers({ three: \"staff\", two: \"spear\", one: \"bow\" }),\n    startingSkills: [\"ThrowSpear\", \"VineWhip\"],\n    startingEquipments: {\n      body: \"HideArmor\",\n      rightHand: \"Javelin\",\n      leftHand: null,\n    },\n  },\n  Monk: {\n    proficiencies: proficienciesFromTiers({ three: \"bareHand\", two: \"staff\", one: \"blade\" }),\n    startingSkills: [\"FlurryOfBlows\", \"PalmStrike\", \"Meditation\"],\n    startingEquipments: {\n      body: \"Tunic\",\n      rightHand: null,\n      leftHand: null,\n    },\n  },\n  monk: {\n    proficiencies: proficienciesFromTiers({ three: \"bareHand\", two: \"staff\", one: \"blade\" }),\n    startingSkills: [\"FlurryOfBlows\", \"PalmStrike\", \"Meditation\"],\n    startingEquipments: {\n      body: \"Tunic\",\n      rightHand: null,\n      leftHand: null,\n    },\n  },\n  Warlock: {\n    proficiencies: proficienciesFromTiers({ three: \"orb\", two: \"axe\", one: \"bow\" }),\n    startingSkills: [\"Corruption\", \"ChaosBolt\"],\n    startingEquipments: {\n      body: \"MageRobe\",\n      rightHand: \"Orb\",\n      leftHand: null,\n    },\n  },\n  warlock: {\n    proficiencies: proficienciesFromTiers({ three: \"orb\", two: \"axe\", one: \"bow\" }),\n    startingSkills: [\"Corruption\", \"ChaosBolt\"],\n    startingEquipments: {\n      body: \"MageRobe\",\n      rightHand: \"Orb\",\n      leftHand: null,\n    },\n  },\n  Duelist: {\n    proficiencies: proficienciesFromTiers({ three: \"sword\", two: \"shield\", one: \"bow\" }),\n    startingSkills: [\"DuelingStance\"],\n    startingEquipments: {\n      body: \"LeatherArmor\",\n      rightHand: \"ShortSword\",\n      leftHand: \"Buckler\",\n    },\n  },\n  duelist: {\n    proficiencies: proficienciesFromTiers({ three: \"sword\", two: \"shield\", one: \"bow\" }),\n    startingSkills: [\"DuelingStance\"],\n    startingEquipments: {\n      body: \"LeatherArmor\",\n      rightHand: \"ShortSword\",\n      leftHand: \"Buckler\",\n    },\n  },\n  Witch: {\n    proficiencies: proficienciesFromTiers({ three: \"wand\", two: \"book\", one: \"dagger\" }),\n    startingSkills: [\"PoisonDart\", \"ChaosBinding\"],\n    startingEquipments: {\n      body: \"MageRobe\",\n      rightHand: \"Wand\",\n      leftHand: null,\n    },\n  },\n  witch: {\n    proficiencies: proficienciesFromTiers({ three: \"wand\", two: \"book\", one: \"dagger\" }),\n    startingSkills: [\"PoisonDart\", \"ChaosBinding\"],\n    startingEquipments: {\n      body: \"MageRobe\",\n      rightHand: \"Wand\",\n      leftHand: null,\n    },\n  },\n  Inquisitor: {\n    proficiencies: proficienciesFromTiers({ three: \"book\", two: \"bow\", one: \"wand\" }),\n    startingSkills: [\"ExposeWeakness\", \"RadiantSmite\"],\n    startingEquipments: {\n      body: \"MageRobe\",\n      rightHand: \"Bible\",\n      leftHand: null,\n    },\n  },\n  inquisitor: {\n    proficiencies: proficienciesFromTiers({ three: \"book\", two: \"bow\", one: \"wand\" }),\n    startingSkills: [\"ExposeWeakness\", \"RadiantSmite\"],\n    startingEquipments: {\n      body: \"MageRobe\",\n      rightHand: \"Bible\",\n      leftHand: null,\n    },\n  },\n  Scholar: {\n    proficiencies: proficienciesFromTiers({ three: \"book\", two: \"sword\", one: \"dagger\" }),\n    startingSkills: [\"CognitiveOverload\", \"DisruptPattern\"],\n    startingEquipments: {\n      body: \"MageRobe\",\n      rightHand: \"Codex\",\n      leftHand: null,\n    },\n  },\n  scholar: {\n    proficiencies: proficienciesFromTiers({ three: \"book\", two: \"sword\", one: \"dagger\" }),\n    startingSkills: [\"CognitiveOverload\", \"DisruptPattern\"],\n    startingEquipments: {\n      body: \"MageRobe\",\n      rightHand: \"Codex\",\n      leftHand: null,\n    },\n  },\n  Engineer: {\n    proficiencies: proficienciesFromTiers({ three: \"bow\", two: \"hammer\", one: \"bareHand\" }),\n    startingSkills: [\"ExplosiveBolt\", \"BearTrap\"],\n    startingEquipments: {\n      body: \"LeatherArmor\",\n      rightHand: \"ShortBow\",\n      leftHand: null,\n    },\n  },\n  engineer: {\n    proficiencies: proficienciesFromTiers({ three: \"bow\", two: \"hammer\", one: \"bareHand\" }),\n    startingSkills: [\"ExplosiveBolt\", \"BearTrap\"],\n    startingEquipments: {\n      body: \"LeatherArmor\",\n      rightHand: \"ShortBow\",\n      leftHand: null,\n    },\n  },\n  Nomad: {\n    proficiencies: proficienciesFromTiers({ three: \"blade\", two: \"bow\", one: \"dagger\" }),\n    startingSkills: [\"TacticalSlash\", \"AdaptiveStrike\"],\n    startingEquipments: {\n      body: \"LeatherArmor\",\n      rightHand: \"Scimitar\",\n      leftHand: null,\n    },\n  },\n  nomad: {\n    proficiencies: proficienciesFromTiers({ three: \"blade\", two: \"bow\", one: \"dagger\" }),\n    startingSkills: [\"TacticalSlash\", \"AdaptiveStrike\"],\n    startingEquipments: {\n      body: \"LeatherArmor\",\n      rightHand: \"Scimitar\",\n      leftHand: null,\n    },\n  },\n};\n\n// Background definitions with artisan bonuses (from Server/src/API/characterCreation/background.ts)\nexport const BACKGROUND_STATS: Record<string, BackgroundStatData> = {\n  Retainer: {\n    artisanBonuses: artisansFromTiers({ three: \"carpentry\", two: \"smithing\", one: \"cooking\" }),\n    startingItems: [],\n  },\n  retainor: {\n    artisanBonuses: artisansFromTiers({ three: \"carpentry\", two: \"smithing\", one: \"cooking\" }),\n    startingItems: [],\n  },\n  Peasant: {\n    artisanBonuses: artisansFromTiers({ three: \"agriculture\", two: \"foraging\", one: \"woodCutting\" }),\n    startingItems: [],\n  },\n  peasant: {\n    artisanBonuses: artisansFromTiers({ three: \"agriculture\", two: \"foraging\", one: \"woodCutting\" }),\n    startingItems: [],\n  },\n  Noble: {\n    artisanBonuses: artisansFromTiers({ three: \"performance\", two: \"jewelry\", one: \"weaving\" }),\n    startingItems: [],\n  },\n  noble: {\n    artisanBonuses: artisansFromTiers({ three: \"performance\", two: \"jewelry\", one: \"weaving\" }),\n    startingItems: [],\n  },\n  Merchant: {\n    artisanBonuses: artisansFromTiers({ three: \"tinkering\", two: \"jewelry\", one: \"alchemy\" }),\n    startingItems: [],\n  },\n  merchant: {\n    artisanBonuses: artisansFromTiers({ three: \"tinkering\", two: \"jewelry\", one: \"alchemy\" }),\n    startingItems: [],\n  },\n  Adventurer: {\n    artisanBonuses: artisansFromTiers({ three: \"foraging\", two: \"smithing\", one: \"skinning\" }),\n    startingItems: [],\n  },\n  adventurer: {\n    artisanBonuses: artisansFromTiers({ three: \"foraging\", two: \"smithing\", one: \"skinning\" }),\n    startingItems: [],\n  },\n  Criminal: {\n    artisanBonuses: artisansFromTiers({ three: \"tinkering\", two: \"alchemy\", one: \"skinning\" }),\n    startingItems: [],\n  },\n  criminal: {\n    artisanBonuses: artisansFromTiers({ three: \"tinkering\", two: \"alchemy\", one: \"skinning\" }),\n    startingItems: [],\n  },\n  Hermit: {\n    artisanBonuses: artisansFromTiers({ three: \"foraging\", two: \"brewing\", one: \"skinning\" }),\n    startingItems: [],\n  },\n  hermit: {\n    artisanBonuses: artisansFromTiers({ three: \"foraging\", two: \"brewing\", one: \"skinning\" }),\n    startingItems: [],\n  },\n  FolkHero: {\n    artisanBonuses: artisansFromTiers({ three: \"woodCutting\", two: \"masonry\", one: \"smithing\" }),\n    startingItems: [],\n  },\n  folkHero: {\n    artisanBonuses: artisansFromTiers({ three: \"woodCutting\", two: \"masonry\", one: \"smithing\" }),\n    startingItems: [],\n  },\n  CityGuard: {\n    artisanBonuses: artisansFromTiers({ three: \"smithing\", two: \"tanning\", one: \"alchemy\" }),\n    startingItems: [],\n  },\n  cityGuard: {\n    artisanBonuses: artisansFromTiers({ three: \"smithing\", two: \"tanning\", one: \"alchemy\" }),\n    startingItems: [],\n  },\n};\n\nexport interface CalculatedStats {\n  attributes: Record<string, { base: number; bonus: number }>;\n  proficiencies: Record<string, { base: number; bonus: number }>;\n  artisans: Record<string, { base: number; bonus: number }>;\n  vitals: { maxHP: number; maxSP: number; maxMP: number; planarAptitude: number };\n  startingSkills: string[];\n  startingEquipments: Array<{ slot: string; item: string }>;\n}\n\nexport function calculateCharacterStats(\n  race: string,\n  classValue: string,\n  background: string\n): CalculatedStats | null {\n  // Try both original case and lowercase\n  const raceData = RACE_STATS[race] || RACE_STATS[race.toLowerCase()];\n  const classData = CLASS_STATS[classValue] || CLASS_STATS[classValue.toLowerCase()] || CLASS_STATS[classValue.charAt(0).toUpperCase() + classValue.slice(1).toLowerCase()];\n  const backgroundKey = background.charAt(0).toUpperCase() + background.slice(1).toLowerCase();\n  const backgroundData = BACKGROUND_STATS[background] || BACKGROUND_STATS[background.toLowerCase()] || BACKGROUND_STATS[backgroundKey];\n\n  if (!raceData) {\n    console.warn(`Race data not found for: ${race}`);\n    return null;\n  }\n  \n  if (!classData) {\n    console.warn(`Class data not found for: ${classValue}, using defaults`);\n    const defaultClass: ClassStatData = {\n      proficiencies: proficienciesFromTiers({}),\n      startingSkills: [],\n      startingEquipments: {},\n    };\n    return calculateStatsWithData(raceData, defaultClass, backgroundData || { artisanBonuses: artisansFromTiers({}), startingItems: [] });\n  }\n\n  if (!backgroundData) {\n    console.warn(`Background data not found for: ${background}, using defaults`);\n    const defaultBackground: BackgroundStatData = { artisanBonuses: artisansFromTiers({}), startingItems: [] };\n    return calculateStatsWithData(raceData, classData, defaultBackground);\n  }\n\n  return calculateStatsWithData(raceData, classData, backgroundData);\n}\n\nfunction calculateStatsWithData(\n  raceData: RaceStatData,\n  classData: ClassStatData,\n  backgroundData: BackgroundStatData\n): CalculatedStats {\n\n  // Calculate attributes (from race only)\n  const attributes: Record<string, { base: number; bonus: number }> = {};\n  for (const [key, value] of Object.entries(raceData.attributes)) {\n    attributes[key] = {\n      base: value,\n      bonus: 0,\n    };\n  }\n\n  // Calculate vitals: base from race + modifier from attributes\n  const vitality = raceData.attributes.vitality || 8;\n  const planar = raceData.attributes.planar || 8;\n  const endurance = raceData.attributes.endurance || 8;\n\n  const hpMod = statMod(vitality);\n  const mpMod = statMod(planar);\n  const spMod = statMod(endurance);\n\n  const maxHP = Math.max(1, raceData.baseHP + Math.max(1, hpMod));\n  const maxMP = Math.max(1, raceData.baseMP + Math.max(1, mpMod));\n  const maxSP = Math.max(1, raceData.baseSP + Math.max(1, spMod));\n\n  // Calculate proficiencies (from class only)\n  const proficiencies: Record<string, { base: number; bonus: number }> = {};\n  for (const [key, value] of Object.entries(classData.proficiencies)) {\n    proficiencies[key] = {\n      base: value,\n      bonus: 0,\n    };\n  }\n\n  // Calculate artisan skills (from background only)\n  const artisans: Record<string, { base: number; bonus: number }> = {};\n  for (const [key, value] of Object.entries(backgroundData.artisanBonuses)) {\n    artisans[key] = {\n      base: value,\n      bonus: 0,\n    };\n  }\n\n  // Convert startingEquipments object to array\n  const startingEquipments = Object.entries(classData.startingEquipments)\n    .filter(([_, item]) => item !== null)\n    .map(([slot, item]) => ({ slot, item: item! }));\n\n  return {\n    attributes,\n    proficiencies,\n    artisans,\n    vitals: {\n      maxHP,\n      maxSP,\n      maxMP,\n      planarAptitude: raceData.planarAptitude,\n    },\n    startingSkills: [...classData.startingSkills],\n    startingEquipments,\n  };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1413, "column": 0}, "map": {"version":3,"sources":["file:///Users/vajrap/workspace/MyProject/Client/webapp/app/character-creation/useCharacterCreationLogic.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport type { LocalizedText } from \"@/types/localization\";\nimport { characterService } from \"@/services/characterService\";\nimport { L10N } from \"@/localization\";\nimport { calculateCharacterStats, type CalculatedStats } from \"./characterStatsData\";\n\n// Metadata types\nexport interface RaceMetadata {\n  id: string;\n  name: string;\n}\n\nexport interface ClassMetadata {\n  id: string;\n  name: string;\n}\n\nexport interface BackgroundMetadata {\n  id: string;\n  name: string;\n}\n\nexport interface CharacterCreationMetadata {\n  races: RaceMetadata[];\n  classes: ClassMetadata[];\n  backgrounds: BackgroundMetadata[];\n}\n\nexport interface CharacterCreationFormData {\n  name: string;\n  gender: \"MALE\" | \"FEMALE\";\n  race: string;\n  portrait: string;\n  class: string;\n  background: string;\n}\n\nexport interface CharacterStats {\n  attributes: Record<string, { base: number; bonus: number }>;\n  proficiencies: Record<string, { base: number; bonus: number }>;\n  artisans: Record<string, { base: number; bonus: number }>;\n  vitals: { maxHP: number; maxSP: number; maxMP: number; planarAptitude: number };\n}\n\nexport interface CharacterCreationState {\n  isLoading: boolean;\n  isFetchingMetadata: boolean;\n  error: string | LocalizedText | null;\n  nameCheckMessage: string | null;\n  metadata: CharacterCreationMetadata | null;\n  stats: CalculatedStats | null;\n  formData: CharacterCreationFormData;\n  portraitIndex: number;\n}\n\n// Re-export for convenience\nexport type { CalculatedStats as CharacterStats };\n\n// Available portraits based on race and gender\nconst getPortraits = (race: string, gender: \"MALE\" | \"FEMALE\"): string[] => {\n  const prefix = gender === \"MALE\" ? \"m\" : \"f\";\n  const raceKey = race.toLowerCase();\n  \n  // Generate portrait IDs based on race and gender\n  // This is a simplified version - you may want to fetch actual portraits from backend\n  return [`${prefix}_${raceKey}01`, `${prefix}_${raceKey}02`, `${prefix}_${raceKey}03`];\n};\n\nexport function useCharacterCreationLogic() {\n  const [state, setState] = useState<CharacterCreationState>({\n    isLoading: false,\n    isFetchingMetadata: true,\n    error: null,\n    nameCheckMessage: null,\n    metadata: null,\n    stats: null,\n    formData: {\n      name: \"\",\n      gender: \"MALE\",\n      race: \"\",\n      portrait: \"\",\n      class: \"\",\n      background: \"\",\n    },\n    portraitIndex: 0,\n  });\n\n  // Fetch metadata on mount\n  useEffect(() => {\n    fetchMetadata();\n  }, []);\n\n  // Update portrait when race or gender changes\n  useEffect(() => {\n    if (state.formData.race) {\n      const portraits = getPortraits(state.formData.race, state.formData.gender);\n      if (portraits.length > 0) {\n        setState((prev) => ({\n          ...prev,\n          formData: { ...prev.formData, portrait: portraits[prev.portraitIndex % portraits.length] },\n        }));\n      }\n    }\n  }, [state.formData.race, state.formData.gender, state.portraitIndex]);\n\n  // Calculate stats locally when race, class, or background changes\n  useEffect(() => {\n    if (state.formData.race && state.formData.class && state.formData.background) {\n      const calculatedStats = calculateCharacterStats(\n        state.formData.race,\n        state.formData.class,\n        state.formData.background\n      );\n      setState((prev) => ({\n        ...prev,\n        stats: calculatedStats,\n      }));\n    } else {\n      setState((prev) => ({\n        ...prev,\n        stats: null,\n      }));\n    }\n  }, [state.formData.race, state.formData.class, state.formData.background]);\n\n  // Fetch available races, classes, and backgrounds\n  const fetchMetadata = async () => {\n    setState((prev) => ({ ...prev, isFetchingMetadata: true }));\n\n    try {\n      // Fetch metadata from backend API using characterService\n      const data = await characterService.getMetadata();\n\n      if (!data.success || !data.races || !data.classes || !data.backgrounds) {\n        throw new Error(\"Invalid metadata response\");\n      }\n\n      const metadata: CharacterCreationMetadata = {\n        races: data.races,\n        classes: data.classes,\n        backgrounds: data.backgrounds,\n      };\n\n      setState((prev) => ({\n        ...prev,\n        metadata,\n        isFetchingMetadata: false,\n        // Set defaults once metadata is loaded\n        formData: prev.formData.race\n          ? prev.formData\n          : {\n              ...prev.formData,\n              race: metadata.races[0]?.id || \"\",\n              class: metadata.classes[0]?.id || \"\",\n              background: metadata.backgrounds[0]?.id || \"\",\n              portrait: getPortraits(metadata.races[0]?.id || \"\", prev.formData.gender)[0] || \"\",\n            },\n      }));\n    } catch (error) {\n      console.error(\"Failed to fetch character metadata:\", error);\n      setState((prev) => ({\n        ...prev,\n        isFetchingMetadata: false,\n        error: \"Failed to load character creation options\",\n      }));\n    }\n  };\n\n  // Update form field\n  const updateField = <K extends keyof CharacterCreationFormData>(\n    field: K,\n    value: CharacterCreationFormData[K]\n  ) => {\n    setState((prev) => ({\n      ...prev,\n      formData: { ...prev.formData, [field]: value },\n      // Clear errors when user modifies form\n      error: null,\n      nameCheckMessage: null,\n    }));\n  };\n\n  // Update portrait index\n  const updatePortraitIndex = (direction: \"prev\" | \"next\") => {\n    setState((prev) => {\n      if (!prev.formData.race) return prev;\n      \n      const portraits = getPortraits(prev.formData.race, prev.formData.gender);\n      if (portraits.length === 0) return prev;\n\n      let newIndex;\n      if (direction === \"prev\") {\n        newIndex = prev.portraitIndex > 0 ? prev.portraitIndex - 1 : portraits.length - 1;\n      } else {\n        newIndex = prev.portraitIndex < portraits.length - 1 ? prev.portraitIndex + 1 : 0;\n      }\n\n      return {\n        ...prev,\n        portraitIndex: newIndex,\n        formData: { ...prev.formData, portrait: portraits[newIndex] },\n      };\n    });\n  };\n\n  // Validate form\n  const validateForm = (): boolean => {\n    const { name, race, class: classValue, background } = state.formData;\n\n    if (!name.trim()) {\n      setState((prev) => ({\n        ...prev,\n        error: L10N.characterCreation.nameRequired,\n      }));\n      return false;\n    }\n\n    if (!/^[a-zA-Z\\u0E00-\\u0E7F\\s]+$/.test(name)) {\n      setState((prev) => ({\n        ...prev,\n        error: L10N.characterCreation.nameInvalidFormat,\n      }));\n      return false;\n    }\n\n    if (name.length > 20) {\n      setState((prev) => ({\n        ...prev,\n        error: L10N.characterCreation.nameMaxLength,\n      }));\n      return false;\n    }\n\n    if (name.trim().length < 3) {\n      setState((prev) => ({\n        ...prev,\n        error: L10N.characterCreation.nameMinLength,\n      }));\n      return false;\n    }\n\n    if (!race || !classValue || !background) {\n      setState((prev) => ({\n        ...prev,\n        error: \"Please select race, class, and background\",\n      }));\n      return false;\n    }\n\n    return true;\n  };\n\n  // Create character\n  const createCharacter = async (): Promise<boolean> => {\n    if (!validateForm()) {\n      return false;\n    }\n\n    setState((prev) => ({ ...prev, isLoading: true, error: null, nameCheckMessage: null }));\n\n    try {\n      const requestData = {\n        name: state.formData.name.trim(),\n        gender: state.formData.gender,\n        race: state.formData.race,\n        portrait: state.formData.portrait,\n        background: state.formData.background,\n        startingClass: state.formData.class, // Backend expects \"startingClass\"\n      };\n\n      const response = await characterService.createCharacter(requestData);\n\n      if (response.success) {\n        return true;\n      } else {\n        // Check if it's a name-related error\n        if (\n          response.messageKey === \"character.nameTaken\" ||\n          response.message?.toLowerCase().includes(\"name\") ||\n          response.message?.toLowerCase().includes(\"taken\")\n        ) {\n          setState((prev) => ({\n            ...prev,\n            nameCheckMessage: L10N.characterCreation.nameTaken,\n            isLoading: false,\n          }));\n        } else {\n          setState((prev) => ({\n            ...prev,\n            error: response.message || L10N.characterCreation.creationFailed,\n            isLoading: false,\n          }));\n        }\n        return false;\n      }\n    } catch (error) {\n      setState((prev) => ({\n        ...prev,\n        error: L10N.characterCreation.creationFailed,\n        isLoading: false,\n      }));\n      return false;\n    }\n  };\n\n  // Check if form is valid\n  const isFormValid = (): boolean => {\n    const { name, race, class: classValue, background } = state.formData;\n    return (\n      name.trim().length >= 3 &&\n      name.trim().length <= 20 &&\n      /^[a-zA-Z\\u0E00-\\u0E7F\\s]+$/.test(name) &&\n      !!race &&\n      !!classValue &&\n      !!background\n    );\n  };\n\n  // Get available portraits for current race/gender\n  const getAvailablePortraits = (): string[] => {\n    if (!state.formData.race) return [];\n    return getPortraits(state.formData.race, state.formData.gender);\n  };\n\n  return {\n    ...state,\n    updateField,\n    updatePortraitIndex,\n    createCharacter,\n    isFormValid,\n    getAvailablePortraits,\n  };\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1684, "column": 0}, "map": {"version":3,"sources":["file:///Users/vajrap/workspace/MyProject/Client/webapp/app/character-creation/CharacterCreationView.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport {\n  Box,\n  Paper,\n  Typography,\n  TextField,\n  Button,\n  IconButton,\n  Chip,\n  Stack,\n  Alert,\n  CircularProgress,\n  Divider,\n} from \"@mui/material\";\nimport { styled } from \"@mui/material/styles\";\nimport {\n  ArrowBack,\n  NavigateBefore,\n  NavigateNext,\n  PersonAdd,\n} from \"@mui/icons-material\";\nimport { useCharacterCreationLogic } from \"./useCharacterCreationLogic\";\nimport { useLocalization, L10N } from \"@/localization\";\n\n// Helper function to get skill L10N by mapping skill name + class to enum value\nfunction getSkillL10N(skillId: string, classValue: string, language: \"en\" | \"th\" = \"en\") {\n  try {\n    // Import L10N files - use dynamic import to handle missing files gracefully\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\n    const { skillsL10N } = require(\"@/L10N/skills\");\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\n    const skillEnums = require(\"@/L10N/skillEnums\");\n    \n    // Map class name to enum type\n    const classEnumMap: Record<string, string> = {\n      Cleric: \"ClericSkillId\",\n      Seer: \"SeerSkillId\",\n      Mage: \"MageSkillId\",\n      Mystic: \"MysticSkillId\",\n      Rogue: \"RogueSkillId\",\n      SpellBlade: \"SpellBladeSkillId\",\n      Shaman: \"ShamanSkillId\",\n      Barbarian: \"BarbarianSkillId\",\n      Warrior: \"WarriorSkillId\",\n      Knight: \"KnightSkillId\",\n      Guardian: \"GuardianSkillId\",\n      Paladin: \"PaladinSkillId\",\n      Druid: \"DruidSkillId\",\n      Monk: \"MonkSkillId\",\n      Warlock: \"WarlockSkillId\",\n      Duelist: \"DuelistSkillId\",\n      Witch: \"WitchSkillId\",\n      Inquisitor: \"InquisitorSkillId\",\n      Scholar: \"ScholarSkillId\",\n      Engineer: \"EngineerSkillId\",\n      Nomad: \"NomadSkillId\",\n    };\n    \n    const normalizedClass = classValue.charAt(0).toUpperCase() + classValue.slice(1);\n    const enumTypeName = classEnumMap[classValue] || classEnumMap[normalizedClass];\n    if (!enumTypeName) {\n      console.warn(`Unknown class for skill lookup: ${classValue}`);\n      return null;\n    }\n    \n    // Get the enum type object (e.g., ClericSkillId enum)\n    const enumType = (skillEnums as any)[enumTypeName];\n    if (!enumType) {\n      console.warn(`Enum type not found: ${enumTypeName}`);\n      return null;\n    }\n    \n    // Get the enum value (e.g., ClericSkillId.Radiance = \"Radiance\")\n    // The enum value is a string like \"Radiance\"\n    const enumValue = enumType[skillId];\n    if (!enumValue) {\n      console.warn(`Skill ${skillId} not found in ${enumTypeName}`);\n      return null;\n    }\n    \n    // The skillsL10N Record uses enum values as keys\n    // Since the enum value is a string, we can use it directly\n    // But we need to access via the enum property for TypeScript\n    // Try accessing directly with the enum value as key\n    const skillData = (skillsL10N as any)[enumValue];\n    if (!skillData) {\n      // Try alternative: access via enum property\n      const enumKey = `${enumTypeName}.${skillId}`;\n      console.warn(`Skill L10N not found for enum value: ${enumValue}, trying: ${enumKey}`);\n      return null;\n    }\n    \n    return {\n      name: skillData.name?.[language] || skillData.name?.en || skillId,\n      description: skillData.description?.[language] || skillData.description?.en || \"\",\n      formula: skillData.formula,\n    };\n  } catch (error) {\n    // L10N files not available yet or import failed\n    console.warn(`Failed to get skill L10N for ${skillId} (${classValue}):`, error);\n    return null;\n  }\n}\n\nconst CharacterCreationContainer = styled(Box)(({ theme }) => ({\n  minHeight: \"100vh\",\n  background: `var(--gradient-mystical)`,\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  padding: theme.spacing(2),\n}));\n\nconst CharacterCreationPaper = styled(Paper)(({ theme }) => ({\n  maxWidth: \"800px\",\n  width: \"90vw\",\n  padding: theme.spacing(4),\n  borderRadius: theme.spacing(2),\n  boxShadow: `var(--shadow-mystical)`,\n  background: 'linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(248,250,252,0.95) 100%)',\n  backdropFilter: 'blur(10px)',\n  border: '1px solid rgba(255,255,255,0.2)',\n}));\n\nconst TitleBox = styled(Box)(({ theme }) => ({\n  textAlign: \"center\",\n  marginBottom: theme.spacing(4),\n}));\n\nconst FormSection = styled(Box)(({ theme }) => ({\n  marginBottom: theme.spacing(3),\n}));\n\nconst SectionTitle = styled(Typography)(({ theme }) => ({\n  marginBottom: theme.spacing(2),\n  fontWeight: 600,\n  color: theme.palette.primary.main,\n}));\n\nconst GenderToggleBox = styled(Box)(({ theme }) => ({\n  display: \"flex\",\n  gap: theme.spacing(1),\n  marginBottom: theme.spacing(2),\n}));\n\nconst GenderButton = styled(Button)<{ active?: boolean }>(({ theme, active }) => ({\n  flex: 1,\n  padding: theme.spacing(1.5),\n  borderRadius: theme.spacing(1),\n  textTransform: \"none\",\n  fontWeight: 600,\n  backgroundColor: active ? theme.palette.primary.main : theme.palette.grey[100],\n  color: active ? theme.palette.primary.contrastText : theme.palette.text.primary,\n  \"&:hover\": {\n    backgroundColor: active ? theme.palette.primary.dark : theme.palette.grey[200],\n  },\n}));\n\nconst PortraitBox = styled(Box)(({ theme }) => ({\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  gap: theme.spacing(2),\n  marginBottom: theme.spacing(2),\n}));\n\nconst PortraitPlaceholder = styled(Box)(({ theme }) => ({\n  width: 120,\n  height: 120,\n  borderRadius: theme.spacing(2),\n  backgroundColor: theme.palette.grey[200],\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  border: `2px solid ${theme.palette.grey[300]}`,\n  fontSize: \"0.875rem\",\n  color: theme.palette.grey[600],\n}));\n\nconst DescriptionBox = styled(Box)(({ theme }) => ({\n  padding: theme.spacing(2),\n  backgroundColor: theme.palette.grey[50],\n  borderRadius: theme.spacing(1),\n  marginTop: theme.spacing(1),\n  minHeight: 60,\n  display: \"flex\",\n  alignItems: \"center\",\n}));\n\nconst ActionButtons = styled(Box)(({ theme }) => ({\n  display: \"flex\",\n  gap: theme.spacing(2),\n  marginTop: theme.spacing(4),\n  justifyContent: \"space-between\",\n}));\n\n// Helper function to get localized name with fallback\nconst getLocalizedRaceName = (t: any, raceId: string): string => {\n  const raceKey = raceId.toLowerCase();\n  try {\n    return t(L10N.character.races[raceKey as keyof typeof L10N.character.races]?.name || { en: raceId, th: raceId });\n  } catch {\n    return raceId;\n  }\n};\n\nconst getLocalizedRaceDescription = (t: any, raceId: string): string => {\n  const raceKey = raceId.toLowerCase();\n  try {\n    return t(L10N.character.races[raceKey as keyof typeof L10N.character.races]?.description || { en: `A ${raceId} character`, th: `${raceId}` });\n  } catch {\n    return `A ${raceId} character`;\n  }\n};\n\nconst getLocalizedClassName = (t: any, classId: string): string => {\n  const classKey = classId.toLowerCase();\n  try {\n    return t(L10N.character.classes[classKey as keyof typeof L10N.character.classes]?.name || { en: classId, th: classId });\n  } catch {\n    return classId;\n  }\n};\n\nconst getLocalizedClassDescription = (t: any, classId: string): string => {\n  const classKey = classId.toLowerCase();\n  try {\n    return t(L10N.character.classes[classKey as keyof typeof L10N.character.classes]?.description || { en: `A ${classId} class`, th: `${classId}` });\n  } catch {\n    return `A ${classId} class`;\n  }\n};\n\nconst getLocalizedBackgroundName = (t: any, backgroundId: string): string => {\n  // Map \"retainor\" to \"noble\" for L10N\n  const backgroundKey = backgroundId === \"retainor\" ? \"noble\" : backgroundId.toLowerCase();\n  try {\n    return t(L10N.character.backgrounds[backgroundKey as keyof typeof L10N.character.backgrounds]?.name || { en: backgroundId, th: backgroundId });\n  } catch {\n    return backgroundId;\n  }\n};\n\nconst getLocalizedBackgroundDescription = (t: any, backgroundId: string): string => {\n  const backgroundKey = backgroundId === \"retainor\" ? \"noble\" : backgroundId.toLowerCase();\n  try {\n    return t(L10N.character.backgrounds[backgroundKey as keyof typeof L10N.character.backgrounds]?.description || { en: `A ${backgroundId} background`, th: `${backgroundId}` });\n  } catch {\n    return `A ${backgroundId} background`;\n  }\n};\n\nexport default function CharacterCreationView() {\n  const router = useRouter();\n  const { t, language } = useLocalization();\n  const {\n    isLoading,\n    isFetchingMetadata,\n    error,\n    nameCheckMessage,\n    metadata,\n    stats,\n    formData,\n    portraitIndex,\n    updateField,\n    updatePortraitIndex,\n    createCharacter,\n    isFormValid,\n    getAvailablePortraits,\n  } = useCharacterCreationLogic();\n\n  const handleCreateCharacter = async () => {\n    const success = await createCharacter();\n    if (success) {\n      router.push(\"/game\");\n    }\n  };\n\n  const handleBackToTitle = () => {\n    router.push(\"/login\");\n  };\n\n  const handleKeyPress = (event: React.KeyboardEvent) => {\n    if (event.key === \"Enter\" && isFormValid() && !isLoading) {\n      handleCreateCharacter();\n    }\n  };\n\n  // No need for calculateCharacterStats - stats come from the hook now\n\n  if (isFetchingMetadata) {\n    return (\n      <CharacterCreationContainer>\n        <Paper sx={{ p: 4, textAlign: \"center\" }}>\n          <CircularProgress />\n          <Typography sx={{ mt: 2 }}>Loading character creation options...</Typography>\n        </Paper>\n      </CharacterCreationContainer>\n    );\n  }\n\n  if (!metadata) {\n    return (\n      <CharacterCreationContainer>\n        <Paper sx={{ p: 4, textAlign: \"center\" }}>\n          <Alert severity=\"error\">Failed to load character creation options. Please refresh the page.</Alert>\n        </Paper>\n      </CharacterCreationContainer>\n    );\n  }\n\n  const availablePortraits = getAvailablePortraits();\n\n  return (\n    <CharacterCreationContainer>\n      <Box sx={{ display: 'flex', gap: 3, width: '100%', maxWidth: '1400px' }}>\n        <CharacterCreationPaper elevation={8} sx={{ flex: 1 }}>\n          <TitleBox>\n            <Typography variant=\"h3\" component=\"h1\" gutterBottom>\n              {t(L10N.characterCreation.title)}\n            </Typography>\n          </TitleBox>\n\n          {/* Character Name and Portrait */}\n          <FormSection>\n            <Box sx={{ display: 'flex', gap: 3, alignItems: 'flex-start' }}>\n              {/* Name Input */}\n              <Box sx={{ flex: 1 }}>\n                <SectionTitle variant=\"h6\">{t(L10N.characterCreation.name)}</SectionTitle>\n                <TextField\n                  fullWidth\n                  variant=\"outlined\"\n                  placeholder={t(L10N.characterCreation.namePlaceholder)}\n                  value={formData.name}\n                  onChange={(e) => updateField(\"name\", e.target.value)}\n                  onKeyPress={handleKeyPress}\n                  inputProps={{ maxLength: 20 }}\n                  error={formData.name.length > 20 || (formData.name.length > 0 && formData.name.length < 3)}\n                  helperText={\n                    formData.name.length > 20\n                      ? t(L10N.characterCreation.nameTooLong)\n                      : formData.name.length > 0 && formData.name.length < 3\n                      ? t(L10N.characterCreation.nameMinLength)\n                      : formData.name.length > 0 && !/^[a-zA-Z\\u0E00-\\u0E7F\\s]+$/.test(formData.name)\n                      ? t(L10N.characterCreation.nameInvalidChars)\n                      : formData.name.length === 0\n                      ? t(L10N.characterCreation.nameTooShort)\n                      : \"\"\n                  }\n                />\n                {nameCheckMessage && (\n                  <Typography\n                    variant=\"caption\"\n                    color={nameCheckMessage.includes(\"available\") ? \"success.main\" : \"error.main\"}\n                    sx={{ mt: 1, display: \"block\" }}\n                  >\n                    {nameCheckMessage}\n                  </Typography>\n                )}\n              </Box>\n\n              {/* Portrait Selector */}\n              <Box sx={{ flex: 1 }}>\n                <SectionTitle variant=\"h6\">{t(L10N.characterCreation.portrait)}</SectionTitle>\n                <PortraitBox>\n                  <IconButton\n                    onClick={() => updatePortraitIndex(\"prev\")}\n                    disabled={isLoading || availablePortraits.length === 0}\n                  >\n                    <NavigateBefore />\n                  </IconButton>\n                  <PortraitPlaceholder>\n                    {formData.portrait || \"No portrait\"}\n                  </PortraitPlaceholder>\n                  <IconButton\n                    onClick={() => updatePortraitIndex(\"next\")}\n                    disabled={isLoading || availablePortraits.length === 0}\n                  >\n                    <NavigateNext />\n                  </IconButton>\n                </PortraitBox>\n              </Box>\n            </Box>\n          </FormSection>\n\n          {/* Gender Selection */}\n          <FormSection>\n            <SectionTitle variant=\"h6\">{t(L10N.characterCreation.gender)}</SectionTitle>\n            <GenderToggleBox>\n              <GenderButton\n                active={formData.gender === \"MALE\"}\n                onClick={() => updateField(\"gender\", \"MALE\")}\n                disabled={isLoading}\n              >\n                {t(L10N.characterCreation.male)}\n              </GenderButton>\n              <GenderButton\n                active={formData.gender === \"FEMALE\"}\n                onClick={() => updateField(\"gender\", \"FEMALE\")}\n                disabled={isLoading}\n              >\n                {t(L10N.characterCreation.female)}\n              </GenderButton>\n            </GenderToggleBox>\n          </FormSection>\n\n          {/* Race Selection */}\n          <FormSection>\n            <SectionTitle variant=\"h6\">{t(L10N.characterCreation.race)}</SectionTitle>\n            <Stack direction=\"row\" spacing={1} flexWrap=\"wrap\" useFlexGap>\n              {metadata.races.map((race) => (\n                <Chip\n                  key={race.id}\n                  label={getLocalizedRaceName(t, race.id)}\n                  onClick={() => updateField(\"race\", race.id)}\n                  color={formData.race === race.id ? \"primary\" : \"default\"}\n                  variant={formData.race === race.id ? \"filled\" : \"outlined\"}\n                  sx={{ marginBottom: 1 }}\n                />\n              ))}\n            </Stack>\n            {formData.race && (\n              <DescriptionBox>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  {getLocalizedRaceDescription(t, formData.race)}\n                </Typography>\n              </DescriptionBox>\n            )}\n          </FormSection>\n\n          {/* Class Selection */}\n          <FormSection>\n            <SectionTitle variant=\"h6\">{t(L10N.characterCreation.class)}</SectionTitle>\n            <Stack direction=\"row\" spacing={1} flexWrap=\"wrap\" useFlexGap>\n              {metadata.classes.map((classItem) => (\n                <Chip\n                  key={classItem.id}\n                  label={getLocalizedClassName(t, classItem.id)}\n                  onClick={() => updateField(\"class\", classItem.id)}\n                  color={formData.class === classItem.id ? \"primary\" : \"default\"}\n                  variant={formData.class === classItem.id ? \"filled\" : \"outlined\"}\n                  sx={{ marginBottom: 1 }}\n                />\n              ))}\n            </Stack>\n            {formData.class && (\n              <DescriptionBox>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  {getLocalizedClassDescription(t, formData.class)}\n                </Typography>\n              </DescriptionBox>\n            )}\n          </FormSection>\n\n          {/* Background Selection */}\n          <FormSection>\n            <SectionTitle variant=\"h6\">{t(L10N.characterCreation.background)}</SectionTitle>\n            <Stack direction=\"row\" spacing={1} flexWrap=\"wrap\" useFlexGap>\n              {metadata.backgrounds.map((background) => (\n                <Chip\n                  key={background.id}\n                  label={getLocalizedBackgroundName(t, background.id)}\n                  onClick={() => updateField(\"background\", background.id)}\n                  color={formData.background === background.id ? \"primary\" : \"default\"}\n                  variant={formData.background === background.id ? \"filled\" : \"outlined\"}\n                  sx={{ marginBottom: 1 }}\n                />\n              ))}\n            </Stack>\n            {formData.background && (\n              <DescriptionBox>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  {getLocalizedBackgroundDescription(t, formData.background)}\n                </Typography>\n              </DescriptionBox>\n            )}\n          </FormSection>\n\n          {/* Error Display */}\n          {error && (\n            <Alert severity=\"error\" sx={{ mb: 2 }}>\n              {typeof error === \"string\" ? error : t(error)}\n            </Alert>\n          )}\n\n          {/* Action Buttons */}\n          <ActionButtons>\n            <Button\n              variant=\"outlined\"\n              startIcon={<ArrowBack />}\n              onClick={handleBackToTitle}\n              disabled={isLoading}\n            >\n              {t(L10N.characterCreation.backToTitle)}\n            </Button>\n            <Button\n              variant=\"contained\"\n              size=\"large\"\n              onClick={handleCreateCharacter}\n              disabled={!isFormValid() || isLoading}\n              startIcon={isLoading ? <CircularProgress size={20} color=\"inherit\" /> : <PersonAdd />}\n            >\n              {isLoading ? t(L10N.characterCreation.creating) : t(L10N.characterCreation.createCharacter)}\n            </Button>\n          </ActionButtons>\n        </CharacterCreationPaper>\n\n        {/* Right Panel - Character Stats */}\n        <Paper elevation={8} sx={{ width: '400px', maxHeight: '95vh', overflow: 'auto' }}>\n          <Box sx={{ p: 3 }}>\n            <Typography variant=\"h6\" gutterBottom sx={{ color: 'primary.main', fontWeight: 'bold' }}>\n              Character Stats\n            </Typography>\n            <Divider sx={{ mb: 3 }} />\n            \n            {stats && formData.race && formData.class && formData.background ? (\n              <Box>\n                {/* Vitals */}\n                <Box sx={{ mb: 3 }}>\n                  <Typography variant=\"subtitle1\" sx={{ fontWeight: 'bold', mb: 1 }}>Vitals</Typography>\n                  <Box sx={{ display: 'flex', flexDirection: 'column', gap: 0.5 }}>\n                    <Typography variant=\"body2\">HP: {stats.vitals.maxHP}</Typography>\n                    <Typography variant=\"body2\">SP: {stats.vitals.maxSP}</Typography>\n                    <Typography variant=\"body2\">MP: {stats.vitals.maxMP}</Typography>\n                    <Typography variant=\"body2\">Planar Aptitude: {stats.vitals.planarAptitude}</Typography>\n                  </Box>\n                </Box>\n\n                <Divider sx={{ my: 2 }} />\n\n                {/* Attributes - Show all without scrolling */}\n                <Box sx={{ mb: 3 }}>\n                  <Typography variant=\"subtitle1\" sx={{ fontWeight: 'bold', mb: 1 }}>Attributes</Typography>\n                  <Box sx={{ display: 'flex', flexDirection: 'column', gap: 0.5 }}>\n                    {Object.entries(stats.attributes).map(([key, value]) => (\n                      <Typography key={key} variant=\"body2\">\n                        {key.charAt(0).toUpperCase() + key.slice(1)}: {value.base}\n                        {value.bonus !== 0 && (\n                          <span style={{ color: value.bonus > 0 ? 'green' : 'red' }}>\n                            {value.bonus > 0 ? ` +${value.bonus}` : ` ${value.bonus}`}\n                          </span>\n                        )}\n                      </Typography>\n                    ))}\n                  </Box>\n                </Box>\n\n                <Divider sx={{ my: 2 }} />\n\n                {/* Proficiencies */}\n                <Box sx={{ mb: 3 }}>\n                  <Typography variant=\"subtitle1\" sx={{ fontWeight: 'bold', mb: 1 }}>Proficiencies</Typography>\n                  <Box sx={{ display: 'flex', flexDirection: 'column', gap: 0.5 }}>\n                    {Object.entries(stats.proficiencies)\n                      .filter(([_, value]) => value.base > 8) // Only show proficiencies > 8\n                      .map(([key, value]) => (\n                        <Typography key={key} variant=\"body2\">\n                          {key.charAt(0).toUpperCase() + key.slice(1)}: {value.base}\n                        </Typography>\n                      ))}\n                  </Box>\n                </Box>\n\n                <Divider sx={{ my: 2 }} />\n\n                {/* Artisan Skills */}\n                <Box sx={{ mb: 3 }}>\n                  <Typography variant=\"subtitle1\" sx={{ fontWeight: 'bold', mb: 1 }}>Artisan Skills</Typography>\n                  <Box sx={{ display: 'flex', flexDirection: 'column', gap: 0.5 }}>\n                    {Object.entries(stats.artisans)\n                      .filter(([_, value]) => value.base > 8) // Only show artisan skills > 8\n                      .map(([key, value]) => (\n                        <Typography key={key} variant=\"body2\">\n                          {key.charAt(0).toUpperCase() + key.slice(1)}: {value.base}\n                        </Typography>\n                      ))}\n                  </Box>\n                </Box>\n\n                <Divider sx={{ my: 2 }} />\n\n                {/* Starting Skills */}\n                {stats.startingSkills.length > 0 && (\n                  <>\n                    <Box sx={{ mb: 3 }}>\n                      <Typography variant=\"subtitle1\" sx={{ fontWeight: 'bold', mb: 1 }}>Starting Skills</Typography>\n                      <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1.5 }}>\n                        {stats.startingSkills.map((skillId) => {\n                          const skillL10N = getSkillL10N(skillId, formData.class, language || \"en\");\n                          return (\n                            <Box key={skillId}>\n                              <Typography variant=\"body2\" sx={{ fontWeight: 'medium' }}>\n                                {skillL10N?.name || skillId}\n                              </Typography>\n                              {skillL10N?.description && (\n                                <Typography variant=\"caption\" color=\"text.secondary\" sx={{ fontStyle: 'italic', display: 'block', mt: 0.5, whiteSpace: 'pre-line' }}>\n                                  {skillL10N.description}\n                                </Typography>\n                              )}\n                            </Box>\n                          );\n                        })}\n                      </Box>\n                    </Box>\n                    <Divider sx={{ my: 2 }} />\n                  </>\n                )}\n\n                {/* Starting Equipment */}\n                {stats.startingEquipments.length > 0 && (\n                  <Box>\n                    <Typography variant=\"subtitle1\" sx={{ fontWeight: 'bold', mb: 1 }}>Starting Equipment</Typography>\n                    <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\n                      {stats.startingEquipments.map((equip, index) => {\n                        // Format slot name for display\n                        const slotName = equip.slot\n                          .replace(/([A-Z])/g, ' $1')\n                          .replace(/^./, (str) => str.toUpperCase())\n                          .trim();\n                        return (\n                          <Box key={`${equip.slot}-${index}`}>\n                            <Typography variant=\"body2\" sx={{ fontWeight: 'medium' }}>\n                              {slotName}: {equip.item}\n                            </Typography>\n                            <Typography variant=\"caption\" color=\"text.secondary\" sx={{ fontStyle: 'italic' }}>\n                              {/* Equipment descriptions will be available after item L10N extraction */}\n                              Equipment description not available\n                            </Typography>\n                          </Box>\n                        );\n                      })}\n                    </Box>\n                  </Box>\n                )}\n              </Box>\n            ) : (\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                Select race, class, and background to see stats preview.\n              </Typography>\n            )}\n          </Box>\n        </Paper>\n      </Box>\n    </CharacterCreationContainer>\n  );\n}\n\n"],"names":[],"mappings":"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"}}]
}