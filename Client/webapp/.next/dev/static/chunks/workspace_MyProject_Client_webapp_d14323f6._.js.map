{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/vajrap/workspace/MyProject/Client/webapp/src/services/RestHandler.ts"],"sourcesContent":["class RestHandler {\n    private API_BASE_URL = \"http://localhost:7890\";\n    private DEFAULT_TIMEOUT = 10000;\n\n    async makeRequest<REQ, RES>(\n        endpoint: string,\n        reqBody?: REQ | null,\n        requireAuth: boolean = false,\n        method: string = \"POST\",\n    ): Promise<RES> {\n        const timeout = this.DEFAULT_TIMEOUT;\n        \n        const url = `${this.API_BASE_URL}${endpoint}`;\n        console.log(`[RestHandler] Making ${method} request to: ${url}`, { reqBody, requireAuth });\n        const controller = new AbortController();\n        const timeoutId = setTimeout(() => controller.abort(), timeout);\n        \n        // Prepare headers\n        const headers: Record<string, string> = {\n            \"Content-Type\": \"application/json\",\n        };\n\n        // Add auth token if required\n        if (requireAuth) {\n            const token = localStorage.getItem(\"sessionToken\");\n            if (token) {\n                headers[\"Authorization\"] = `Bearer ${token}`;\n            }\n        }\n\n        try {\n            const response = await fetch(url, {\n                method: method,\n                headers,\n                signal: controller.signal,\n                body: method !== \"GET\" && reqBody ? JSON.stringify(reqBody) : undefined,\n            });\n            \n            clearTimeout(timeoutId);\n            console.log(`[RestHandler] Response status: ${response.status} for ${url}`);\n            \n            if (!response.ok) {\n                const errorText = await response.text();\n                let errorData;\n                try {\n                    errorData = JSON.parse(errorText);\n                } catch {\n                    errorData = { message: errorText };\n                }\n                console.error(`[RestHandler] Error response for ${url}:`, errorData);\n                throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\n            }\n            \n            const jsonResponse = await response.json();\n            console.log(`[RestHandler] Success response from ${url}:`, jsonResponse);\n            return jsonResponse;\n        } catch (error) {\n            clearTimeout(timeoutId);\n            if (error instanceof Error && error.name === 'AbortError') {\n                console.error(`[RestHandler] Request timeout for ${url}`);\n                throw new Error('Request timeout');\n            }\n            // Improve error message for network errors\n            if (error instanceof TypeError && (error.message.includes('fetch') || error.message.includes('Failed to fetch'))) {\n                console.error(`[RestHandler] Network error connecting to ${url}:`, error);\n                throw new Error(`Cannot connect to server at ${this.API_BASE_URL}. Please ensure the backend is running and accessible. Error: ${error.message}`);\n            }\n            console.error(`[RestHandler] Error for ${url}:`, error);\n            throw error;\n        }\n    }\n\n    // Convenience methods for common HTTP verbs\n    async get<RES>(endpoint: string, requireAuth: boolean = false): Promise<RES> {\n        return this.makeRequest<null, RES>(endpoint, null, requireAuth, \"GET\");\n    }\n\n    async post<REQ, RES>(endpoint: string, reqBody?: REQ | null, requireAuth: boolean = false): Promise<RES> {\n        return this.makeRequest<REQ, RES>(endpoint, reqBody, requireAuth, \"POST\");\n    }\n\n    async put<REQ, RES>(endpoint: string, reqBody?: REQ | null, requireAuth: boolean = false): Promise<RES> {\n        return this.makeRequest<REQ, RES>(endpoint, reqBody, requireAuth, \"PUT\");\n    }\n\n    async delete<RES>(endpoint: string, requireAuth: boolean = false): Promise<RES> {\n        return this.makeRequest<null, RES>(endpoint, null, requireAuth, \"DELETE\");\n    }\n\n    // Health check method\n    async healthCheck(): Promise<boolean> {\n        console.log(\"Health check\");\n        try {\n            const response = await fetch(`${this.API_BASE_URL}/api/network-test`, {\n                method: \"GET\",\n                signal: AbortSignal.timeout(5000),\n            });\n            console.log(\"Health check response:\", response);\n            return response.ok;\n        } catch (error) {\n            console.log(\"Health check error:\", error);\n            return false;\n        }\n    }\n}\n\nexport const restHandler = new RestHandler();"],"names":[],"mappings":"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"}},
    {"offset": {"line": 108, "column": 0}, "map": {"version":3,"sources":["file:///Users/vajrap/workspace/MyProject/Client/webapp/src/services/characterService.ts"],"sourcesContent":["// CharacterService.ts - Service for character-related API calls\n\nimport { restHandler } from './RestHandler';\nimport type {\n  CharacterCreationRequest,\n  CharacterResponse,\n  CharacterCreationResponse,\n  CharacterNameCheckResponse,\n} from '@/types/character';\n\n// Re-export types for backward compatibility\nexport type { Character } from '@/types/character';\n\nclass CharacterService {\n\n  async createCharacter(characterData: CharacterCreationRequest): Promise<CharacterCreationResponse> {\n    try {\n      const response = await restHandler.post<CharacterCreationRequest, CharacterResponse>(\"/api/character/create\", characterData, true);\n\n      return response;\n    } catch (error) {\n      console.error(\"Character creation error:\", error);\n      return {\n        success: false,\n        messageKey: \"character.creationFailed\",\n      };\n    }\n  }\n\n  async getUserCharacter(): Promise<CharacterResponse> {\n    const response = await restHandler.post<null, CharacterResponse>(\"/api/character/getUserCharacter\", null, true);\n    return response;\n  }\n\n  async checkCharacterName(name: string): Promise<CharacterNameCheckResponse> {\n    try {\n      const response = await restHandler.post<{name: string}, CharacterNameCheckResponse>(\"/api/character/checkName\", { name });\n      return response;\n    } catch (error) {\n      console.error(\"Character name check error:\", error);\n      return {\n        success: false,\n        messageKey: \"character.nameCheckFailed\",\n        message: error instanceof Error ? error.message : \"Failed to check character name\",\n      };\n    }\n  }\n\n  async setActiveCharacter(characterId: string): Promise<CharacterResponse> {\n    try {\n      const response = await restHandler.post<{characterId: string}, CharacterResponse>(\"/api/character/setActive\", { characterId }, true);\n\n      return response;\n    } catch (error) {\n      console.error(\"Set active character error:\", error);\n      return {\n        success: false,\n        messageKey: \"character.setActiveFailed\",\n        message: error instanceof Error ? error.message : \"Failed to set active character\",\n      };\n    }\n  }\n\n  async getMetadata(): Promise<{\n    success: boolean;\n    races?: Array<{ id: string; name: string }>;\n    classes?: Array<{ id: string; name: string }>;\n    backgrounds?: Array<{ id: string; name: string }>;\n    messageKey?: string;\n  }> {\n    try {\n      const response = await restHandler.get<{\n        success: boolean;\n        races: Array<{ id: string; name: string }>;\n        classes: Array<{ id: string; name: string }>;\n        backgrounds: Array<{ id: string; name: string }>;\n      }>(\"/api/character/metadata\", false);\n      return response;\n    } catch (error) {\n      console.error(\"Character metadata error:\", error);\n      return {\n        success: false,\n        messageKey: \"character.metadataFailed\",\n      };\n    }\n  }\n\n  async previewStats(race: string, classValue: string, background: string): Promise<{\n    success: boolean;\n    stats?: {\n      attributes: Record<string, { base: number; bonus: number }>;\n      proficiencies: Record<string, { base: number; bonus: number }>;\n      artisans: Record<string, { base: number; bonus: number }>;\n      vitals: { maxHP: number; maxSP: number; maxMP: number; planarAptitude: number };\n    };\n    messageKey?: string;\n  }> {\n    try {\n      const response = await restHandler.get<{\n        success: boolean;\n        stats?: {\n          attributes: Record<string, { base: number; bonus: number }>;\n          proficiencies: Record<string, { base: number; bonus: number }>;\n          artisans: Record<string, { base: number; bonus: number }>;\n          vitals: { maxHP: number; maxSP: number; maxMP: number; planarAptitude: number };\n        };\n        messageKey?: string;\n      }>(`/api/character/preview?race=${encodeURIComponent(race)}&class=${encodeURIComponent(classValue)}&background=${encodeURIComponent(background)}`, false);\n      return response;\n    } catch (error) {\n      console.error(\"Failed to fetch character stats preview:\", error);\n      return {\n        success: false,\n        messageKey: \"character.previewFailed\",\n      };\n    }\n  }\n}\n\n// Export singleton instance\nexport const characterService = new CharacterService();\n"],"names":[],"mappings":"AAAA,gEAAgE;;;;;AAEhE;;AAWA,MAAM;IAEJ,MAAM,gBAAgB,aAAuC,EAAsC;QACjG,IAAI;YACF,MAAM,WAAW,MAAM,8LAAW,CAAC,IAAI,CAA8C,yBAAyB,eAAe;YAE7H,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,OAAO;gBACL,SAAS;gBACT,YAAY;YACd;QACF;IACF;IAEA,MAAM,mBAA+C;QACnD,MAAM,WAAW,MAAM,8LAAW,CAAC,IAAI,CAA0B,mCAAmC,MAAM;QAC1G,OAAO;IACT;IAEA,MAAM,mBAAmB,IAAY,EAAuC;QAC1E,IAAI;YACF,MAAM,WAAW,MAAM,8LAAW,CAAC,IAAI,CAA6C,4BAA4B;gBAAE;YAAK;YACvH,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,OAAO;gBACL,SAAS;gBACT,YAAY;gBACZ,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YACpD;QACF;IACF;IAEA,MAAM,mBAAmB,WAAmB,EAA8B;QACxE,IAAI;YACF,MAAM,WAAW,MAAM,8LAAW,CAAC,IAAI,CAA2C,4BAA4B;gBAAE;YAAY,GAAG;YAE/H,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,OAAO;gBACL,SAAS;gBACT,YAAY;gBACZ,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YACpD;QACF;IACF;IAEA,MAAM,cAMH;QACD,IAAI;YACF,MAAM,WAAW,MAAM,8LAAW,CAAC,GAAG,CAKnC,2BAA2B;YAC9B,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,OAAO;gBACL,SAAS;gBACT,YAAY;YACd;QACF;IACF;IAEA,MAAM,aAAa,IAAY,EAAE,UAAkB,EAAE,UAAkB,EASpE;QACD,IAAI;YACF,MAAM,WAAW,MAAM,8LAAW,CAAC,GAAG,CASnC,CAAC,4BAA4B,EAAE,mBAAmB,MAAM,OAAO,EAAE,mBAAmB,YAAY,YAAY,EAAE,mBAAmB,aAAa,EAAE;YACnJ,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,4CAA4C;YAC1D,OAAO;gBACL,SAAS;gBACT,YAAY;YACd;QACF;IACF;AACF;AAGO,MAAM,mBAAmB,IAAI"}},
    {"offset": {"line": 195, "column": 0}, "map": {"version":3,"sources":["file:///Users/vajrap/workspace/MyProject/Client/webapp/app/character-creation/useCharacterCreationLogic.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport type { LocalizedText } from \"@/types/localization\";\nimport { characterService } from \"@/services/characterService\";\nimport { L10N } from \"@/localization\";\nimport { calculateCharacterStats, type CalculatedStats } from \"./characterStatsData\";\n\n// Metadata types\nexport interface RaceMetadata {\n  id: string;\n  name: string;\n}\n\nexport interface ClassMetadata {\n  id: string;\n  name: string;\n}\n\nexport interface BackgroundMetadata {\n  id: string;\n  name: string;\n}\n\nexport interface CharacterCreationMetadata {\n  races: RaceMetadata[];\n  classes: ClassMetadata[];\n  backgrounds: BackgroundMetadata[];\n}\n\nexport interface CharacterCreationFormData {\n  name: string;\n  gender: \"MALE\" | \"FEMALE\";\n  race: string;\n  portrait: string;\n  class: string;\n  background: string;\n}\n\nexport interface CharacterStats {\n  attributes: Record<string, { base: number; bonus: number }>;\n  proficiencies: Record<string, { base: number; bonus: number }>;\n  artisans: Record<string, { base: number; bonus: number }>;\n  vitals: { maxHP: number; maxSP: number; maxMP: number; planarAptitude: number };\n}\n\nexport interface CharacterCreationState {\n  isLoading: boolean;\n  isFetchingMetadata: boolean;\n  error: string | LocalizedText | null;\n  nameCheckMessage: string | null;\n  metadata: CharacterCreationMetadata | null;\n  stats: CalculatedStats | null;\n  formData: CharacterCreationFormData;\n  portraitIndex: number;\n}\n\n// Re-export for convenience\nexport type { CalculatedStats as CharacterStats };\n\n// Available portraits based on race and gender\nconst getPortraits = (race: string, gender: \"MALE\" | \"FEMALE\"): string[] => {\n  const prefix = gender === \"MALE\" ? \"m\" : \"f\";\n  const raceKey = race.toLowerCase();\n  \n  // Generate portrait IDs based on race and gender\n  // This is a simplified version - you may want to fetch actual portraits from backend\n  return [`${prefix}_${raceKey}01`, `${prefix}_${raceKey}02`, `${prefix}_${raceKey}03`];\n};\n\nexport function useCharacterCreationLogic() {\n  const [state, setState] = useState<CharacterCreationState>({\n    isLoading: false,\n    isFetchingMetadata: true,\n    error: null,\n    nameCheckMessage: null,\n    metadata: null,\n    stats: null,\n    formData: {\n      name: \"\",\n      gender: \"MALE\",\n      race: \"\",\n      portrait: \"\",\n      class: \"\",\n      background: \"\",\n    },\n    portraitIndex: 0,\n  });\n\n  // Fetch metadata on mount\n  useEffect(() => {\n    fetchMetadata();\n  }, []);\n\n  // Update portrait when race or gender changes\n  useEffect(() => {\n    if (state.formData.race) {\n      const portraits = getPortraits(state.formData.race, state.formData.gender);\n      if (portraits.length > 0) {\n        setState((prev) => ({\n          ...prev,\n          formData: { ...prev.formData, portrait: portraits[prev.portraitIndex % portraits.length] },\n        }));\n      }\n    }\n  }, [state.formData.race, state.formData.gender, state.portraitIndex]);\n\n  // Fetch stats preview when race, class, or background changes\n  useEffect(() => {\n    if (state.formData.race && state.formData.class && state.formData.background && state.metadata) {\n      fetchStatsPreview(state.formData.race, state.formData.class, state.formData.background);\n    }\n  }, [state.formData.race, state.formData.class, state.formData.background, state.metadata]);\n\n  // Fetch stats preview from backend\n  const fetchStatsPreview = async (race: string, classValue: string, background: string) => {\n    setState((prev) => ({ ...prev, isFetchingStats: true }));\n\n    try {\n      const response = await characterService.previewStats(race, classValue, background);\n      if (response.success && response.stats) {\n        setState((prev) => ({\n          ...prev,\n          stats: response.stats!,\n          isFetchingStats: false,\n        }));\n      } else {\n        setState((prev) => ({ ...prev, isFetchingStats: false }));\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch stats preview:\", error);\n      setState((prev) => ({ ...prev, isFetchingStats: false }));\n    }\n  };\n\n  // Fetch available races, classes, and backgrounds\n  const fetchMetadata = async () => {\n    setState((prev) => ({ ...prev, isFetchingMetadata: true }));\n\n    try {\n      // Fetch metadata from backend API using characterService\n      const data = await characterService.getMetadata();\n\n      if (!data.success || !data.races || !data.classes || !data.backgrounds) {\n        throw new Error(\"Invalid metadata response\");\n      }\n\n      const metadata: CharacterCreationMetadata = {\n        races: data.races,\n        classes: data.classes,\n        backgrounds: data.backgrounds,\n      };\n\n      setState((prev) => ({\n        ...prev,\n        metadata,\n        isFetchingMetadata: false,\n        // Set defaults once metadata is loaded\n        formData: prev.formData.race\n          ? prev.formData\n          : {\n              ...prev.formData,\n              race: metadata.races[0]?.id || \"\",\n              class: metadata.classes[0]?.id || \"\",\n              background: metadata.backgrounds[0]?.id || \"\",\n              portrait: getPortraits(metadata.races[0]?.id || \"\", prev.formData.gender)[0] || \"\",\n            },\n      }));\n    } catch (error) {\n      console.error(\"Failed to fetch character metadata:\", error);\n      setState((prev) => ({\n        ...prev,\n        isFetchingMetadata: false,\n        error: \"Failed to load character creation options\",\n      }));\n    }\n  };\n\n  // Update form field\n  const updateField = <K extends keyof CharacterCreationFormData>(\n    field: K,\n    value: CharacterCreationFormData[K]\n  ) => {\n    setState((prev) => ({\n      ...prev,\n      formData: { ...prev.formData, [field]: value },\n      // Clear errors when user modifies form\n      error: null,\n      nameCheckMessage: null,\n    }));\n  };\n\n  // Update portrait index\n  const updatePortraitIndex = (direction: \"prev\" | \"next\") => {\n    setState((prev) => {\n      if (!prev.formData.race) return prev;\n      \n      const portraits = getPortraits(prev.formData.race, prev.formData.gender);\n      if (portraits.length === 0) return prev;\n\n      let newIndex;\n      if (direction === \"prev\") {\n        newIndex = prev.portraitIndex > 0 ? prev.portraitIndex - 1 : portraits.length - 1;\n      } else {\n        newIndex = prev.portraitIndex < portraits.length - 1 ? prev.portraitIndex + 1 : 0;\n      }\n\n      return {\n        ...prev,\n        portraitIndex: newIndex,\n        formData: { ...prev.formData, portrait: portraits[newIndex] },\n      };\n    });\n  };\n\n  // Validate form\n  const validateForm = (): boolean => {\n    const { name, race, class: classValue, background } = state.formData;\n\n    if (!name.trim()) {\n      setState((prev) => ({\n        ...prev,\n        error: L10N.characterCreation.nameRequired,\n      }));\n      return false;\n    }\n\n    if (!/^[a-zA-Z\\u0E00-\\u0E7F\\s]+$/.test(name)) {\n      setState((prev) => ({\n        ...prev,\n        error: L10N.characterCreation.nameInvalidFormat,\n      }));\n      return false;\n    }\n\n    if (name.length > 20) {\n      setState((prev) => ({\n        ...prev,\n        error: L10N.characterCreation.nameMaxLength,\n      }));\n      return false;\n    }\n\n    if (name.trim().length < 3) {\n      setState((prev) => ({\n        ...prev,\n        error: L10N.characterCreation.nameMinLength,\n      }));\n      return false;\n    }\n\n    if (!race || !classValue || !background) {\n      setState((prev) => ({\n        ...prev,\n        error: \"Please select race, class, and background\",\n      }));\n      return false;\n    }\n\n    return true;\n  };\n\n  // Create character\n  const createCharacter = async (): Promise<boolean> => {\n    if (!validateForm()) {\n      return false;\n    }\n\n    setState((prev) => ({ ...prev, isLoading: true, error: null, nameCheckMessage: null }));\n\n    try {\n      const requestData = {\n        name: state.formData.name.trim(),\n        gender: state.formData.gender,\n        race: state.formData.race,\n        portrait: state.formData.portrait,\n        background: state.formData.background,\n        startingClass: state.formData.class, // Backend expects \"startingClass\"\n      };\n\n      const response = await characterService.createCharacter(requestData);\n\n      if (response.success) {\n        return true;\n      } else {\n        // Check if it's a name-related error\n        if (\n          response.messageKey === \"character.nameTaken\" ||\n          response.message?.toLowerCase().includes(\"name\") ||\n          response.message?.toLowerCase().includes(\"taken\")\n        ) {\n          setState((prev) => ({\n            ...prev,\n            nameCheckMessage: L10N.characterCreation.nameTaken,\n            isLoading: false,\n          }));\n        } else {\n          setState((prev) => ({\n            ...prev,\n            error: response.message || L10N.characterCreation.creationFailed,\n            isLoading: false,\n          }));\n        }\n        return false;\n      }\n    } catch (error) {\n      setState((prev) => ({\n        ...prev,\n        error: L10N.characterCreation.creationFailed,\n        isLoading: false,\n      }));\n      return false;\n    }\n  };\n\n  // Check if form is valid\n  const isFormValid = (): boolean => {\n    const { name, race, class: classValue, background } = state.formData;\n    return (\n      name.trim().length >= 3 &&\n      name.trim().length <= 20 &&\n      /^[a-zA-Z\\u0E00-\\u0E7F\\s]+$/.test(name) &&\n      !!race &&\n      !!classValue &&\n      !!background\n    );\n  };\n\n  // Get available portraits for current race/gender\n  const getAvailablePortraits = (): string[] => {\n    if (!state.formData.race) return [];\n    return getPortraits(state.formData.race, state.formData.gender);\n  };\n\n  return {\n    ...state,\n    updateField,\n    updatePortraitIndex,\n    createCharacter,\n    isFormValid,\n    getAvailablePortraits,\n  };\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 498, "column": 0}, "map": {"version":3,"sources":["file:///Users/vajrap/workspace/MyProject/Client/webapp/app/character-creation/CharacterCreationView.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport {\n  Box,\n  Paper,\n  Typography,\n  TextField,\n  Button,\n  IconButton,\n  Chip,\n  Stack,\n  Alert,\n  CircularProgress,\n  Divider,\n} from \"@mui/material\";\nimport { styled } from \"@mui/material/styles\";\nimport {\n  ArrowBack,\n  NavigateBefore,\n  NavigateNext,\n  PersonAdd,\n} from \"@mui/icons-material\";\nimport { useCharacterCreationLogic } from \"./useCharacterCreationLogic\";\nimport { useLocalization, L10N } from \"@/localization\";\n\nconst CharacterCreationContainer = styled(Box)(({ theme }) => ({\n  minHeight: \"100vh\",\n  background: `var(--gradient-mystical)`,\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  padding: theme.spacing(2),\n}));\n\nconst CharacterCreationPaper = styled(Paper)(({ theme }) => ({\n  maxWidth: \"800px\",\n  width: \"90vw\",\n  padding: theme.spacing(4),\n  borderRadius: theme.spacing(2),\n  boxShadow: `var(--shadow-mystical)`,\n  background: 'linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(248,250,252,0.95) 100%)',\n  backdropFilter: 'blur(10px)',\n  border: '1px solid rgba(255,255,255,0.2)',\n}));\n\nconst TitleBox = styled(Box)(({ theme }) => ({\n  textAlign: \"center\",\n  marginBottom: theme.spacing(4),\n}));\n\nconst FormSection = styled(Box)(({ theme }) => ({\n  marginBottom: theme.spacing(3),\n}));\n\nconst SectionTitle = styled(Typography)(({ theme }) => ({\n  marginBottom: theme.spacing(2),\n  fontWeight: 600,\n  color: theme.palette.primary.main,\n}));\n\nconst GenderToggleBox = styled(Box)(({ theme }) => ({\n  display: \"flex\",\n  gap: theme.spacing(1),\n  marginBottom: theme.spacing(2),\n}));\n\nconst GenderButton = styled(Button)<{ active?: boolean }>(({ theme, active }) => ({\n  flex: 1,\n  padding: theme.spacing(1.5),\n  borderRadius: theme.spacing(1),\n  textTransform: \"none\",\n  fontWeight: 600,\n  backgroundColor: active ? theme.palette.primary.main : theme.palette.grey[100],\n  color: active ? theme.palette.primary.contrastText : theme.palette.text.primary,\n  \"&:hover\": {\n    backgroundColor: active ? theme.palette.primary.dark : theme.palette.grey[200],\n  },\n}));\n\nconst PortraitBox = styled(Box)(({ theme }) => ({\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  gap: theme.spacing(2),\n  marginBottom: theme.spacing(2),\n}));\n\nconst PortraitPlaceholder = styled(Box)(({ theme }) => ({\n  width: 120,\n  height: 120,\n  borderRadius: theme.spacing(2),\n  backgroundColor: theme.palette.grey[200],\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  border: `2px solid ${theme.palette.grey[300]}`,\n  fontSize: \"0.875rem\",\n  color: theme.palette.grey[600],\n}));\n\nconst DescriptionBox = styled(Box)(({ theme }) => ({\n  padding: theme.spacing(2),\n  backgroundColor: theme.palette.grey[50],\n  borderRadius: theme.spacing(1),\n  marginTop: theme.spacing(1),\n  minHeight: 60,\n  display: \"flex\",\n  alignItems: \"center\",\n}));\n\nconst ActionButtons = styled(Box)(({ theme }) => ({\n  display: \"flex\",\n  gap: theme.spacing(2),\n  marginTop: theme.spacing(4),\n  justifyContent: \"space-between\",\n}));\n\n// Helper function to get localized name with fallback\nconst getLocalizedRaceName = (t: any, raceId: string): string => {\n  const raceKey = raceId.toLowerCase();\n  try {\n    return t(L10N.character.races[raceKey as keyof typeof L10N.character.races]?.name || { en: raceId, th: raceId });\n  } catch {\n    return raceId;\n  }\n};\n\nconst getLocalizedRaceDescription = (t: any, raceId: string): string => {\n  const raceKey = raceId.toLowerCase();\n  try {\n    return t(L10N.character.races[raceKey as keyof typeof L10N.character.races]?.description || { en: `A ${raceId} character`, th: `ตัวละคร${raceId}` });\n  } catch {\n    return `A ${raceId} character`;\n  }\n};\n\nconst getLocalizedClassName = (t: any, classId: string): string => {\n  const classKey = classId.toLowerCase();\n  try {\n    return t(L10N.character.classes[classKey as keyof typeof L10N.character.classes]?.name || { en: classId, th: classId });\n  } catch {\n    return classId;\n  }\n};\n\nconst getLocalizedClassDescription = (t: any, classId: string): string => {\n  const classKey = classId.toLowerCase();\n  try {\n    return t(L10N.character.classes[classKey as keyof typeof L10N.character.classes]?.description || { en: `A ${classId} class`, th: `อาชีพ${classId}` });\n  } catch {\n    return `A ${classId} class`;\n  }\n};\n\nconst getLocalizedBackgroundName = (t: any, backgroundId: string): string => {\n  // Map \"retainor\" to \"noble\" for L10N\n  const backgroundKey = backgroundId === \"retainor\" ? \"noble\" : backgroundId.toLowerCase();\n  try {\n    return t(L10N.character.backgrounds[backgroundKey as keyof typeof L10N.character.backgrounds]?.name || { en: backgroundId, th: backgroundId });\n  } catch {\n    return backgroundId;\n  }\n};\n\nconst getLocalizedBackgroundDescription = (t: any, backgroundId: string): string => {\n  const backgroundKey = backgroundId === \"retainor\" ? \"noble\" : backgroundId.toLowerCase();\n  try {\n    return t(L10N.character.backgrounds[backgroundKey as keyof typeof L10N.character.backgrounds]?.description || { en: `A ${backgroundId} background`, th: `ภูมิหลัง${backgroundId}` });\n  } catch {\n    return `A ${backgroundId} background`;\n  }\n};\n\nexport default function CharacterCreationView() {\n  const router = useRouter();\n  const { t } = useLocalization();\n  const {\n    isLoading,\n    isFetchingMetadata,\n    isFetchingStats,\n    error,\n    nameCheckMessage,\n    metadata,\n    stats,\n    formData,\n    portraitIndex,\n    updateField,\n    updatePortraitIndex,\n    createCharacter,\n    isFormValid,\n    getAvailablePortraits,\n  } = useCharacterCreationLogic();\n\n  const handleCreateCharacter = async () => {\n    const success = await createCharacter();\n    if (success) {\n      router.push(\"/game\");\n    }\n  };\n\n  const handleBackToTitle = () => {\n    router.push(\"/login\");\n  };\n\n  const handleKeyPress = (event: React.KeyboardEvent) => {\n    if (event.key === \"Enter\" && isFormValid() && !isLoading) {\n      handleCreateCharacter();\n    }\n  };\n\n  // No need for calculateCharacterStats - stats come from the hook now\n\n  if (isFetchingMetadata) {\n    return (\n      <CharacterCreationContainer>\n        <Paper sx={{ p: 4, textAlign: \"center\" }}>\n          <CircularProgress />\n          <Typography sx={{ mt: 2 }}>Loading character creation options...</Typography>\n        </Paper>\n      </CharacterCreationContainer>\n    );\n  }\n\n  if (!metadata) {\n    return (\n      <CharacterCreationContainer>\n        <Paper sx={{ p: 4, textAlign: \"center\" }}>\n          <Alert severity=\"error\">Failed to load character creation options. Please refresh the page.</Alert>\n        </Paper>\n      </CharacterCreationContainer>\n    );\n  }\n\n  const availablePortraits = getAvailablePortraits();\n\n  return (\n    <CharacterCreationContainer>\n      <Box sx={{ display: 'flex', gap: 3, width: '100%', maxWidth: '1400px' }}>\n        <CharacterCreationPaper elevation={8} sx={{ flex: 1 }}>\n          <TitleBox>\n            <Typography variant=\"h3\" component=\"h1\" gutterBottom>\n              {t(L10N.characterCreation.title)}\n            </Typography>\n          </TitleBox>\n\n          {/* Character Name and Portrait */}\n          <FormSection>\n            <Box sx={{ display: 'flex', gap: 3, alignItems: 'flex-start' }}>\n              {/* Name Input */}\n              <Box sx={{ flex: 1 }}>\n                <SectionTitle variant=\"h6\">{t(L10N.characterCreation.name)}</SectionTitle>\n                <TextField\n                  fullWidth\n                  variant=\"outlined\"\n                  placeholder={t(L10N.characterCreation.namePlaceholder)}\n                  value={formData.name}\n                  onChange={(e) => updateField(\"name\", e.target.value)}\n                  onKeyPress={handleKeyPress}\n                  inputProps={{ maxLength: 20 }}\n                  error={formData.name.length > 20 || (formData.name.length > 0 && formData.name.length < 3)}\n                  helperText={\n                    formData.name.length > 20\n                      ? t(L10N.characterCreation.nameTooLong)\n                      : formData.name.length > 0 && formData.name.length < 3\n                      ? t(L10N.characterCreation.nameMinLength)\n                      : formData.name.length > 0 && !/^[a-zA-Z\\u0E00-\\u0E7F\\s]+$/.test(formData.name)\n                      ? t(L10N.characterCreation.nameInvalidChars)\n                      : formData.name.length === 0\n                      ? t(L10N.characterCreation.nameTooShort)\n                      : \"\"\n                  }\n                />\n                {nameCheckMessage && (\n                  <Typography\n                    variant=\"caption\"\n                    color={nameCheckMessage.includes(\"available\") ? \"success.main\" : \"error.main\"}\n                    sx={{ mt: 1, display: \"block\" }}\n                  >\n                    {nameCheckMessage}\n                  </Typography>\n                )}\n              </Box>\n\n              {/* Portrait Selector */}\n              <Box sx={{ flex: 1 }}>\n                <SectionTitle variant=\"h6\">{t(L10N.characterCreation.portrait)}</SectionTitle>\n                <PortraitBox>\n                  <IconButton\n                    onClick={() => updatePortraitIndex(\"prev\")}\n                    disabled={isLoading || availablePortraits.length === 0}\n                  >\n                    <NavigateBefore />\n                  </IconButton>\n                  <PortraitPlaceholder>\n                    {formData.portrait || \"No portrait\"}\n                  </PortraitPlaceholder>\n                  <IconButton\n                    onClick={() => updatePortraitIndex(\"next\")}\n                    disabled={isLoading || availablePortraits.length === 0}\n                  >\n                    <NavigateNext />\n                  </IconButton>\n                </PortraitBox>\n              </Box>\n            </Box>\n          </FormSection>\n\n          {/* Gender Selection */}\n          <FormSection>\n            <SectionTitle variant=\"h6\">{t(L10N.characterCreation.gender)}</SectionTitle>\n            <GenderToggleBox>\n              <GenderButton\n                active={formData.gender === \"MALE\"}\n                onClick={() => updateField(\"gender\", \"MALE\")}\n                disabled={isLoading}\n              >\n                {t(L10N.characterCreation.male)}\n              </GenderButton>\n              <GenderButton\n                active={formData.gender === \"FEMALE\"}\n                onClick={() => updateField(\"gender\", \"FEMALE\")}\n                disabled={isLoading}\n              >\n                {t(L10N.characterCreation.female)}\n              </GenderButton>\n            </GenderToggleBox>\n          </FormSection>\n\n          {/* Race Selection */}\n          <FormSection>\n            <SectionTitle variant=\"h6\">{t(L10N.characterCreation.race)}</SectionTitle>\n            <Stack direction=\"row\" spacing={1} flexWrap=\"wrap\" useFlexGap>\n              {metadata.races.map((race) => (\n                <Chip\n                  key={race.id}\n                  label={getLocalizedRaceName(t, race.id)}\n                  onClick={() => updateField(\"race\", race.id)}\n                  color={formData.race === race.id ? \"primary\" : \"default\"}\n                  variant={formData.race === race.id ? \"filled\" : \"outlined\"}\n                  sx={{ marginBottom: 1 }}\n                />\n              ))}\n            </Stack>\n            {formData.race && (\n              <DescriptionBox>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  {getLocalizedRaceDescription(t, formData.race)}\n                </Typography>\n              </DescriptionBox>\n            )}\n          </FormSection>\n\n          {/* Class Selection */}\n          <FormSection>\n            <SectionTitle variant=\"h6\">{t(L10N.characterCreation.class)}</SectionTitle>\n            <Stack direction=\"row\" spacing={1} flexWrap=\"wrap\" useFlexGap>\n              {metadata.classes.map((classItem) => (\n                <Chip\n                  key={classItem.id}\n                  label={getLocalizedClassName(t, classItem.id)}\n                  onClick={() => updateField(\"class\", classItem.id)}\n                  color={formData.class === classItem.id ? \"primary\" : \"default\"}\n                  variant={formData.class === classItem.id ? \"filled\" : \"outlined\"}\n                  sx={{ marginBottom: 1 }}\n                />\n              ))}\n            </Stack>\n            {formData.class && (\n              <DescriptionBox>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  {getLocalizedClassDescription(t, formData.class)}\n                </Typography>\n              </DescriptionBox>\n            )}\n          </FormSection>\n\n          {/* Background Selection */}\n          <FormSection>\n            <SectionTitle variant=\"h6\">{t(L10N.characterCreation.background)}</SectionTitle>\n            <Stack direction=\"row\" spacing={1} flexWrap=\"wrap\" useFlexGap>\n              {metadata.backgrounds.map((background) => (\n                <Chip\n                  key={background.id}\n                  label={getLocalizedBackgroundName(t, background.id)}\n                  onClick={() => updateField(\"background\", background.id)}\n                  color={formData.background === background.id ? \"primary\" : \"default\"}\n                  variant={formData.background === background.id ? \"filled\" : \"outlined\"}\n                  sx={{ marginBottom: 1 }}\n                />\n              ))}\n            </Stack>\n            {formData.background && (\n              <DescriptionBox>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  {getLocalizedBackgroundDescription(t, formData.background)}\n                </Typography>\n              </DescriptionBox>\n            )}\n          </FormSection>\n\n          {/* Error Display */}\n          {error && (\n            <Alert severity=\"error\" sx={{ mb: 2 }}>\n              {typeof error === \"string\" ? error : t(error)}\n            </Alert>\n          )}\n\n          {/* Action Buttons */}\n          <ActionButtons>\n            <Button\n              variant=\"outlined\"\n              startIcon={<ArrowBack />}\n              onClick={handleBackToTitle}\n              disabled={isLoading}\n            >\n              {t(L10N.characterCreation.backToTitle)}\n            </Button>\n            <Button\n              variant=\"contained\"\n              size=\"large\"\n              onClick={handleCreateCharacter}\n              disabled={!isFormValid() || isLoading}\n              startIcon={isLoading ? <CircularProgress size={20} color=\"inherit\" /> : <PersonAdd />}\n            >\n              {isLoading ? t(L10N.characterCreation.creating) : t(L10N.characterCreation.createCharacter)}\n            </Button>\n          </ActionButtons>\n        </CharacterCreationPaper>\n\n        {/* Right Panel - Character Stats */}\n        <Paper elevation={8} sx={{ width: '400px', maxHeight: '95vh', overflow: 'auto' }}>\n          <Box sx={{ p: 3 }}>\n            <Typography variant=\"h6\" gutterBottom sx={{ color: 'primary.main', fontWeight: 'bold' }}>\n              Character Stats\n            </Typography>\n            <Divider sx={{ mb: 3 }} />\n            \n            {isFetchingStats ? (\n              <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', py: 4 }}>\n                <CircularProgress size={24} />\n                <Typography variant=\"body2\" sx={{ ml: 2 }}>Calculating stats...</Typography>\n              </Box>\n            ) : stats && formData.race && formData.class && formData.background ? (\n              <Box>\n                {/* Vitals */}\n                <Box sx={{ mb: 3 }}>\n                  <Typography variant=\"subtitle1\" sx={{ fontWeight: 'bold', mb: 1 }}>Vitals</Typography>\n                  <Box sx={{ display: 'flex', flexDirection: 'column', gap: 0.5 }}>\n                    <Typography variant=\"body2\">HP: {stats.vitals.maxHP}</Typography>\n                    <Typography variant=\"body2\">SP: {stats.vitals.maxSP}</Typography>\n                    <Typography variant=\"body2\">MP: {stats.vitals.maxMP}</Typography>\n                    <Typography variant=\"body2\">Planar Aptitude: {stats.vitals.planarAptitude}</Typography>\n                  </Box>\n                </Box>\n\n                <Divider sx={{ my: 2 }} />\n\n                {/* Attributes */}\n                <Box sx={{ mb: 3 }}>\n                  <Typography variant=\"subtitle1\" sx={{ fontWeight: 'bold', mb: 1 }}>Attributes</Typography>\n                  <Box sx={{ display: 'flex', flexDirection: 'column', gap: 0.5, maxHeight: '200px', overflow: 'auto' }}>\n                    {Object.entries(stats.attributes).map(([key, value]) => (\n                      <Typography key={key} variant=\"body2\">\n                        {key.charAt(0).toUpperCase() + key.slice(1)}: {value.base}\n                        {value.bonus !== 0 && (\n                          <span style={{ color: value.bonus > 0 ? 'green' : 'red' }}>\n                            {value.bonus > 0 ? ` +${value.bonus}` : ` ${value.bonus}`}\n                          </span>\n                        )}\n                      </Typography>\n                    ))}\n                  </Box>\n                </Box>\n\n                <Divider sx={{ my: 2 }} />\n\n                {/* Proficiencies */}\n                <Box sx={{ mb: 3 }}>\n                  <Typography variant=\"subtitle1\" sx={{ fontWeight: 'bold', mb: 1 }}>Proficiencies</Typography>\n                  <Box sx={{ display: 'flex', flexDirection: 'column', gap: 0.5, maxHeight: '150px', overflow: 'auto' }}>\n                    {Object.entries(stats.proficiencies)\n                      .filter(([_, value]) => value.base > 8) // Only show proficiencies > 8\n                      .map(([key, value]) => (\n                        <Typography key={key} variant=\"body2\">\n                          {key.charAt(0).toUpperCase() + key.slice(1)}: {value.base}\n                        </Typography>\n                      ))}\n                  </Box>\n                </Box>\n\n                <Divider sx={{ my: 2 }} />\n\n                {/* Artisan Skills */}\n                <Box>\n                  <Typography variant=\"subtitle1\" sx={{ fontWeight: 'bold', mb: 1 }}>Artisan Skills</Typography>\n                  <Box sx={{ display: 'flex', flexDirection: 'column', gap: 0.5, maxHeight: '150px', overflow: 'auto' }}>\n                    {Object.entries(stats.artisans)\n                      .filter(([_, value]) => value.base > 8) // Only show artisan skills > 8\n                      .map(([key, value]) => (\n                        <Typography key={key} variant=\"body2\">\n                          {key.charAt(0).toUpperCase() + key.slice(1)}: {value.base}\n                        </Typography>\n                      ))}\n                  </Box>\n                </Box>\n              </Box>\n            ) : (\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                Select race, class, and background to see stats preview.\n              </Typography>\n            )}\n          </Box>\n        </Paper>\n      </Box>\n    </CharacterCreationContainer>\n  );\n}\n\n"],"names":[],"mappings":"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"}}]
}